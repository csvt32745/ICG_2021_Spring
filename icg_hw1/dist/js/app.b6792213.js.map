{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/shaders/phong.vert","webpack:///./src/components/SceneObjectList.vue?8c72","webpack:///./src/ts/camera.ts","webpack:///./src/js/webgl-utils.js","webpack:///./src/ts/transform.ts","webpack:///./src/shaders/goraud.vert","webpack:///./src/components/ObjectComponent.vue?89dd","webpack:///./src/assets/texture/debug.png","webpack:///./src/shaders/custom.vert","webpack:///./src/assets/texture/debug_yellow.png","webpack:///./src/ts/shaderProgram.ts","webpack:///./src/shaders sync ^\\.\\/.*\\.vert$","webpack:///./src/shaders/goraud.frag","webpack:///./src/components/ObjectComponent.vue?a042","webpack:///./src/assets/model sync ^\\.\\/.*\\.json$","webpack:///./src/shaders/flat.vert","webpack:///./src/ts/light.ts","webpack:///./src/assets/texture sync ^\\.\\/.*$","webpack:///./src/components/ObjectComponent.vue?ecbd","webpack:///./src/assets/texture/debug_white.png","webpack:///./src/shaders/cel.frag","webpack:///./src/shaders/flat.frag","webpack:///./src/components/SceneObjectList.vue?4a7b","webpack:///./src/shaders/custom.frag","webpack:///./src/ts/modelObject.ts","webpack:///./src/main.ts","webpack:///./src/components/SceneObjectList.vue","webpack:///./src/components/ObjectComponent.vue","webpack:///./src/components/ObjectComponent.vue?19fa","webpack:///./src/components/ObjectComponent.vue?8c02","webpack:///./src/components/SceneObjectList.vue?f54b","webpack:///./src/components/SceneObjectList.vue?f841","webpack:///./src/shaders/phong.frag","webpack:///./src/components/SceneObjectList.vue?14e3","webpack:///./src/shaders/cel.vert","webpack:///./src/shaders sync ^\\.\\/.*\\.frag$"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","___CSS_LOADER_API_IMPORT___","Camera","viewport","viewportWidth","width","viewportHeight","height","perspective","this","pMatrix","FOV","fromRotationTranslation","mvMatrix","rotation","position","invert","invT_mvMatrix","transpose","getMVP","WebGLUtils","makeFailHTML","msg","GET_A_WEBGL_BROWSER","OTHER_PROBLEM","setupWebGL","canvas","opt_attribs","opt_onError","handleCreationError","container","parentNode","str","WebGLRenderingContext","innerHTML","addEventListener","event","statusMessage","context","create3DContext","names","ii","getContext","e","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","element","setTimeout","Transform","zero","fromValues","scale","x","y","z","add","fromEuler","rotateX","rotateY","rotateZ","axis","multiply","setAxisAngle","getEuler","out","quat","w","x2","y2","z2","w2","unit","test","Math","PI","atan2","asin","forEach","val","LightUniforms","idx","shaderProgram","enabled","gl","getUniformLocation","la","ld","ls","TextureUniforms","texture","BasicShader","shader_name","getShader","initShaders","vert_shader","createShader","VERTEX_SHADER","shader_src","default","shaderSource","compileShader","frag_shader","FRAGMENT_SHADER","getShaderParameter","COMPILE_STATUS","createProgram","attachShader","linkProgram","getProgramParameter","LINK_STATUS","alert","getShaderInfoLog","useProgram","vertexPositionAttribute","getAttribLocation","enableVertexAttribArray","vertexFrontColorAttribute","vertexNormalAttribute","vertexUVAttribute","textureUniform","pMatrixUniform","mvMatrixUniform","invT_mvMatrixUniform","modelMatrixUniform","invT_modelMatrixUniform","lightUniforms","glossUniform","camPosUniform","is_loaded","camPos","uniform3fv","mvp","uniformMatrix4fv","lights","light","uniform1i","map","webpackContext","req","id","webpackContextResolve","Error","code","keys","resolve","PhongLight","content","locals","ModelObject","WebGLBuffer","shader","model_name","texture_name","undefined","loadModel","loadTexture","vertexAttributes","handleModelData","image","Image","onload","textures","console","log","src","buffer","createTexture","vertexBuffers","buf","createBuffer","bindBuffer","ARRAY_BUFFER","bufferData","Float32Array","STATIC_DRAW","itemSize","numItems","isLoaded","setUniform","vertexPositions","vertexAttribPointer","FLOAT","vertexFrontcolors","vertexNormals","vertexTextureCoords","drawArrays","TRIANGLES","mat","shear_mat","shear","mul","fromQuat","fromTranslation","uniform1f","gloss","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texParameteri","TEXTURE_WRAP_S","REPEAT","TEXTURE_WRAP_T","TEXTURE_MIN_FILTER","LINEAR","TEXTURE_MAG_FILTER","texImage2D","RGBA","UNSIGNED_BYTE","Uint8Array","disableVertexAttribArray","webGLStart","onresize","setCanvasSize","teapotAngle","lastTime","document","createElement","initGlobalVariables","global","scene_objects","shader_programs","elapsed_time","camera","texture_list","innerWidth","innerHeight","style","backgroundColor","top","left","initGL","setPos","setDiffuse","setAmbient","setSpecular","setScale","setRot","setGloss","vm","mount","clearColor","enable","DEPTH_TEST","body","appendChild","tick","getExtension","degToRad","degrees","update","cos","sin","draw","clear","COLOR_BUFFER_BIT","DEPTH_BUFFER_BIT","setMVP","world_mat","entries","prog","setWorldMatrixUniforms","setLightUniforms","setCamPosUniform","obj","updateTime","timeNow","Date","getTime","class","selected","size","selected_default","is_selected","pos","index","xyz","rot","euler","rot_changed","selected_shader","_","is_texture","selected_texture","valueOf","with","render","components","ObjectComponent"],"mappings":"aACE,SAASA,EAAqBC,GAQ7B,IAPA,IAMIC,EAAUC,EANVC,EAAWH,EAAK,GAChBI,EAAcJ,EAAK,GACnBK,EAAiBL,EAAK,GAIHM,EAAI,EAAGC,EAAW,GACpCD,EAAIH,EAASK,OAAQF,IACzBJ,EAAUC,EAASG,GAChBG,OAAOC,UAAUC,eAAeC,KAAKC,EAAiBX,IAAYW,EAAgBX,IACpFK,EAASO,KAAKD,EAAgBX,GAAS,IAExCW,EAAgBX,GAAW,EAE5B,IAAID,KAAYG,EACZK,OAAOC,UAAUC,eAAeC,KAAKR,EAAaH,KACpDc,EAAQd,GAAYG,EAAYH,IAG/Be,GAAqBA,EAAoBhB,GAE5C,MAAMO,EAASC,OACdD,EAASU,OAATV,GAOD,OAHAW,EAAgBJ,KAAKK,MAAMD,EAAiBb,GAAkB,IAGvDe,IAER,SAASA,IAER,IADA,IAAIC,EACIf,EAAI,EAAGA,EAAIY,EAAgBV,OAAQF,IAAK,CAG/C,IAFA,IAAIgB,EAAiBJ,EAAgBZ,GACjCiB,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAed,OAAQgB,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BX,EAAgBY,KAAcF,GAAY,GAE3CA,IACFL,EAAgBQ,OAAOpB,IAAK,GAC5Be,EAASM,EAAoBA,EAAoBC,EAAIN,EAAe,KAItE,OAAOD,EAIR,IAAIQ,EAAmB,GAKnBhB,EAAkB,CACrB,IAAO,GAGJK,EAAkB,GAGtB,SAASS,EAAoB1B,GAG5B,GAAG4B,EAAiB5B,GACnB,OAAO4B,EAAiB5B,GAAU6B,QAGnC,IAAIC,EAASF,EAAiB5B,GAAY,CACzCK,EAAGL,EACH+B,GAAG,EACHF,QAAS,IAUV,OANAf,EAAQd,GAAUW,KAAKmB,EAAOD,QAASC,EAAQA,EAAOD,QAASH,GAG/DI,EAAOC,GAAI,EAGJD,EAAOD,QAKfH,EAAoBM,EAAIlB,EAGxBY,EAAoBO,EAAIL,EAGxBF,EAAoBQ,EAAI,SAASL,EAASM,EAAMC,GAC3CV,EAAoBW,EAAER,EAASM,IAClC3B,OAAO8B,eAAeT,EAASM,EAAM,CAAEI,YAAY,EAAMC,IAAKJ,KAKhEV,EAAoBe,EAAI,SAASZ,GACX,qBAAXa,QAA0BA,OAAOC,aAC1CnC,OAAO8B,eAAeT,EAASa,OAAOC,YAAa,CAAEC,MAAO,WAE7DpC,OAAO8B,eAAeT,EAAS,aAAc,CAAEe,OAAO,KAQvDlB,EAAoBmB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQlB,EAAoBkB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,kBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKxC,OAAOyC,OAAO,MAGvB,GAFAvB,EAAoBe,EAAEO,GACtBxC,OAAO8B,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOlB,EAAoBQ,EAAEc,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRtB,EAAoB0B,EAAI,SAAStB,GAChC,IAAIM,EAASN,GAAUA,EAAOiB,WAC7B,WAAwB,OAAOjB,EAAO,YACtC,WAA8B,OAAOA,GAEtC,OADAJ,EAAoBQ,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRV,EAAoBW,EAAI,SAASgB,EAAQC,GAAY,OAAO9C,OAAOC,UAAUC,eAAeC,KAAK0C,EAAQC,IAGzG5B,EAAoB6B,EAAI,GAExB,IAAIC,EAAaC,OAAO,gBAAkBA,OAAO,iBAAmB,GAChEC,EAAmBF,EAAW3C,KAAKsC,KAAKK,GAC5CA,EAAW3C,KAAOf,EAClB0D,EAAaA,EAAWG,QACxB,IAAI,IAAItD,EAAI,EAAGA,EAAImD,EAAWjD,OAAQF,IAAKP,EAAqB0D,EAAWnD,IAC3E,IAAIU,EAAsB2C,EAI1BzC,EAAgBJ,KAAK,CAAC,EAAE,kBAEjBM,K,6ECvJT,OAAe,ipB,uBCCf,IAAIyC,EAA8B,EAAQ,QAC1C/B,EAAU+B,GAA4B,GAEtC/B,EAAQhB,KAAK,CAACiB,EAAOzB,EAAI,oMAAqM,KAE9NyB,EAAOD,QAAUA,G,+iy9ECHXgC,E,wDASF,WAAaC,GAAyC,oCACpD,eADoD,0JANhD,MAAQ,KAMwC,4CAJrC,OAAKb,UAIgC,2CAHtC,OAAKA,UAGiC,iDAFhC,OAAKA,UAIzB,EAAKc,cAAgBD,EAASE,MAC9B,EAAKC,eAAiBH,EAASI,OAHqB,E,6CAMtD,WAYE,OAVA,OAAKC,YAAYC,KAAKC,QAASD,KAAKE,IAAKF,KAAKL,cAAgBK,KAAKH,eAAgB,GAAK,KAKxF,OAAKM,wBAAwBH,KAAKI,SAAUJ,KAAKK,SAAUL,KAAKM,UAChE,OAAKC,OAAOP,KAAKI,SAAUJ,KAAKI,UAEhC,OAAKG,OAAOP,KAAKQ,cAAeR,KAAKI,UACrC,OAAKK,UAAUT,KAAKQ,cAAeR,KAAKQ,eACjCR,KAAKU,W,oBAGd,WACE,MAAO,CACLT,QAASD,KAAKC,QACdG,SAAUJ,KAAKI,SACfI,cAAeR,KAAKQ,mB,GAlCP,S,qBCuDrBG,WAAc,WAOZ,IAAIC,EAAe,SAAUC,GAC3B,MAAO,oKAIYA,EAJZ,kCAaLC,EAAsB,+HAQtBC,EAAgB,+IAgBhBC,EAAa,SAAUC,EAAQC,EAAaC,GAC9C,SAASC,EAAqBP,GAC5B,IAAIQ,EAAYJ,EAAOK,WACvB,GAAID,EAAW,CACb,IAAIE,EAAMlC,OAAOmC,sBACbT,EACAD,EACAD,IACFU,GAAO,qBAAuBV,GAEhCQ,EAAUI,UAAYb,EAAaW,IAIvCJ,EAAcA,GAAeC,EAEzBH,EAAOS,kBACTT,EAAOS,iBAAiB,6BAA6B,SAAUC,GAC7DR,EAAYQ,EAAMC,kBACjB,GAEL,IAAIC,EAAUC,EAAgBb,EAAQC,GAMtC,OALKW,GACExC,OAAOmC,uBACVL,EAAY,IAGTU,GASLC,EAAkB,SAAUb,EAAQC,GAGtC,IAFA,IAAIa,EAAQ,CAAC,QAAS,qBAAsB,YAAa,aACrDF,EAAU,KACLG,EAAK,EAAGA,EAAKD,EAAM5F,SAAU6F,EAAI,CACxC,IACEH,EAAUZ,EAAOgB,WAAWF,EAAMC,GAAKd,GACvC,MAAOgB,IACT,GAAIL,EACF,MAGJ,OAAOA,GAGT,MAAO,CACLC,gBAAiBA,EACjBd,WAAYA,GAjGF,GAwGd3B,OAAO8C,iBAAoB,WACzB,OAAO9C,OAAO+C,uBACP/C,OAAOgD,6BACPhD,OAAOiD,0BACPjD,OAAOkD,wBACPlD,OAAOmD,yBACP,SAA8CC,EAAmCC,GAC/ErD,OAAOsD,WAAWF,EAAU,IAAO,KAPnB,I,wKC/JrBG,E,WAKF,mEAJiB,OAAKC,KAAK,OAAKhE,WAIhC,+BAHiB,OAAKA,UAGtB,4BAFc,OAAKiE,WAAW,EAAG,EAAG,I,+CAIpC,SAAUvF,GAA+D,OAAvC,OAAKwF,MAAM/C,KAAK+C,MAAO/C,KAAK+C,MAAOxF,GAAWyC,O,yBAChF,SAAagD,EAAWC,EAAWC,GAA+D,OAAvClD,KAAK+C,MAAQ,OAAKD,WAAWE,EAAGC,EAAGC,GAAWlD,O,oBAEzG,SAAQgD,EAAWC,EAAWC,GAAkE,OAA1ClD,KAAKM,SAAW,OAAKwC,WAAWE,EAAGC,EAAGC,GAAWlD,O,uBACvG,SAAWgD,EAAWC,EAAWC,GAA0F,OAAlE,OAAKC,IAAInD,KAAKM,SAAUN,KAAKM,SAAU,OAAKwC,WAAWE,EAAGC,EAAGC,IAAYlD,O,oBAElI,SAAQgD,EAAWC,EAAWC,GAAgF,OAAxDlD,KAAKK,SAAW,OAAK+C,UAAU,OAAKvE,SAAUmE,EAAGC,EAAGC,GAAWlD,O,qBACrH,SAAS3B,GAAuE,OAA/C,OAAKgF,QAAQrD,KAAKK,SAAUL,KAAKK,SAAUhC,GAAW2B,O,qBACvF,SAAS3B,GAAuE,OAA/C,OAAKiF,QAAQtD,KAAKK,SAAUL,KAAKK,SAAUhC,GAAW2B,O,qBACvF,SAAS3B,GAAuE,OAA/C,OAAKkF,QAAQvD,KAAKK,SAAUL,KAAKK,SAAUhC,GAAW2B,O,wBACvF,SAAY3B,EAAWmF,GAAiH,OAAxF,OAAKC,SAASzD,KAAKK,SAAUL,KAAKK,SAAU,OAAKqD,aAAa,OAAK7E,SAAU2E,EAAMnF,IAAY2B,S,KAG7I,SAAU2D,EAASC,EAAKC,GAC5B,IAAIb,EAAIa,EAAK,GACXZ,EAAIY,EAAK,GACTX,EAAIW,EAAK,GACTC,EAAID,EAAK,GACTE,EAAKf,EAAIA,EACTgB,EAAKf,EAAIA,EACTgB,EAAKf,EAAIA,EACTgB,EAAKJ,EAAIA,EACPK,EAAOJ,EAAKC,EAAKC,EAAKC,EACtBE,EAAOpB,EAAIc,EAAIb,EAAIC,EAqBvB,OApBIkB,EAAO,QAAWD,GAEpBP,EAAI,GAAKS,KAAKC,GAAK,EACnBV,EAAI,GAAK,EAAIS,KAAKE,MAAMtB,EAAGD,GAC3BY,EAAI,GAAK,GACAQ,GAAQ,QAAWD,GAE5BP,EAAI,IAAMS,KAAKC,GAAK,EACpBV,EAAI,GAAK,EAAIS,KAAKE,MAAMtB,EAAGD,GAC3BY,EAAI,GAAK,IAETA,EAAI,GAAKS,KAAKG,KAAK,GAAKxB,EAAIE,EAAIY,EAAIb,IACpCW,EAAI,GAAKS,KAAKE,MAAM,GAAKvB,EAAIc,EAAIb,EAAIC,GAAI,EAAI,GAAKe,EAAKC,IACvDN,EAAI,GAAKS,KAAKE,MAAM,GAAKvB,EAAIC,EAAIC,EAAIY,GAAI,EAAI,GAAKE,EAAKC,KAIzDL,EAAIa,SAAQ,SAACC,EAAKzI,GAChB2H,EAAI3H,GAAMyI,EAAIL,KAAKC,GAAG,OAEjBV,I,4m4qECtDT,OAAe,49C,kCCAf,W,uk7kICAAlG,EAAOD,QAAU,IAA0B,0B,oCCA3C,OAAe,6sB,qBCAfC,EAAOD,QAAU,0/F,8GCIXkH,G,oBAQF,WAAaC,EAAaC,GAA2B,uMACnD7E,KAAK8E,QAAUC,GAAGC,mBAAmBH,EAAtB,iBAA+CD,EAA/C,cACf5E,KAAKM,SAAWyE,GAAGC,mBAAmBH,EAAtB,iBAA+CD,EAA/C,eAChB5E,KAAKiF,GAAKF,GAAGC,mBAAmBH,EAAtB,iBAA+CD,EAA/C,SACV5E,KAAKkF,GAAKH,GAAGC,mBAAmBH,EAAtB,iBAA+CD,EAA/C,SACV5E,KAAKmF,GAAKJ,GAAGC,mBAAmBH,EAAtB,iBAA+CD,EAA/C,WAKVQ,EAIJ,WAAarH,EAAc8G,GAA2B,mGACpD7E,KAAK8E,QAAUC,GAAGC,mBAAmBH,EAAtB,UAAwC9G,EAAxC,aACfiC,KAAKqF,QAAUN,GAAGC,mBAAmBH,EAAe9G,IAIlDuH,E,WAsBF,WAAaC,GAAmB,ilBAPE,IAOF,qKAFX,GAGnBvF,KAAKjC,KAAOwH,EACZvF,KAAKwF,UAAUD,GACfvF,KAAKyF,c,gDAGP,SAAW1H,GACT,IAAM2H,EAAcX,GAAGY,aAAaZ,GAAGa,eAEnCC,EAAa,UAAQ,YAAc9H,EAAf,UAA4B+H,QACpDf,GAAGgB,aAAaL,EAAaG,GAC7Bd,GAAGiB,cAAcN,GAEjB,IAAMO,EAAclB,GAAGY,aAAaZ,GAAGmB,iBAKvC,OAJAL,EAAa,UAAQ,YAAc9H,EAAf,UAA4B+H,QAChDf,GAAGgB,aAAaE,EAAaJ,GAC7Bd,GAAGiB,cAAcC,GAEZlB,GAAGoB,mBAAmBT,EAAaX,GAAGqB,gBAG/BrB,GAAGoB,mBAAmBF,EAAalB,GAAGqB,iBAKlDpG,KAAK6E,cAAgBE,GAAGsB,gBACxBtB,GAAGuB,aAAatG,KAAK6E,cAAea,GACpCX,GAAGuB,aAAatG,KAAK6E,cAAeoB,GACpClB,GAAGwB,YAAYvG,KAAK6E,oBACfE,GAAGyB,oBAAoBxG,KAAK6E,cAAeE,GAAG0B,cACjDC,MAAM,mCATNA,MAAM3B,GAAG4B,iBAAiBV,IACnB,OAJPS,MAAM3B,GAAG4B,iBAAiBjB,IACnB,Q,yBAeX,WACEX,GAAG6B,WAAW5G,KAAK6E,eAEnB7E,KAAK6G,wBAA0B9B,GAAG+B,kBAAkB9G,KAAK6E,cAAe,mBACxEE,GAAGgC,wBAAwB/G,KAAK6G,yBAChC7G,KAAKgH,0BAA4BjC,GAAG+B,kBAAkB9G,KAAK6E,cAAe,eAC1EE,GAAGgC,wBAAwB/G,KAAKgH,2BAEhChH,KAAKiH,sBAAwBlC,GAAG+B,kBAAkB9G,KAAK6E,cAAe,WACnE7E,KAAKiH,uBAAyB,GAC/BlC,GAAGgC,wBAAwB/G,KAAKiH,uBAElCjH,KAAKkH,kBAAoBnC,GAAG+B,kBAAkB9G,KAAK6E,cAAe,OAC/D7E,KAAKkH,mBAAqB,IAE3BlH,KAAKmH,eAAiB,IAAI/B,EAAgB,MAAOpF,KAAK6E,gBAGxD7E,KAAKoH,eAAiBrC,GAAGC,mBAAmBhF,KAAK6E,cAAe,YAChE7E,KAAKqH,gBAAkBtC,GAAGC,mBAAmBhF,KAAK6E,cAAe,aACjE7E,KAAKsH,qBAAuBvC,GAAGC,mBAAmBhF,KAAK6E,cAAe,iBACtE7E,KAAKuH,mBAAqBxC,GAAGC,mBAAmBhF,KAAK6E,cAAe,gBACpE7E,KAAKwH,wBAA0BzC,GAAGC,mBAAmBhF,KAAK6E,cAAe,oBAEzE,IAAK,IAAI5I,EAAI,EAAGA,EAAI,EAAGA,IAAO+D,KAAKyH,cAAchL,KAAK,IAAIkI,EAAc1I,EAAG+D,KAAK6E,gBAChF7E,KAAK0H,aAAe3C,GAAGC,mBAAmBhF,KAAK6E,cAAe,SAC9D7E,KAAK2H,cAAgB5C,GAAGC,mBAAmBhF,KAAK6E,cAAe,WAE/D7E,KAAK4H,WAAY,I,8BAGnB,SAAkBC,GAChB9C,GAAG6B,WAAW5G,KAAK6E,eACnBE,GAAG+C,WAAW9H,KAAK2H,cAAeE,K,oCAGpC,SAAwBE,GACtBhD,GAAG6B,WAAW5G,KAAK6E,eACnBE,GAAGiD,iBAAiBhI,KAAKoH,gBAAgB,EAAOW,EAAI9H,SACpD8E,GAAGiD,iBAAiBhI,KAAKqH,iBAAiB,EAAOU,EAAI3H,UACrD2E,GAAGiD,iBAAiBhI,KAAKsH,sBAAsB,EAAOS,EAAIvH,iB,8BAG5D,SAAkByH,GAAqB,WACrClD,GAAG6B,WAAW5G,KAAK6E,eACnBoD,EAAOxD,SAAQ,SAACyD,EAAOtD,GACrBG,GAAGoD,UAAU,EAAKV,cAAc7C,GAAKE,QAAS,GAC9CC,GAAG+C,WAAW,EAAKL,cAAc7C,GAAKK,GAAIiD,EAAMjD,IAChDF,GAAG+C,WAAW,EAAKL,cAAc7C,GAAKM,GAAIgD,EAAMhD,IAChDH,GAAG+C,WAAW,EAAKL,cAAc7C,GAAKO,GAAI+C,EAAM/C,IAEhDJ,GAAG+C,WAAW,EAAKL,cAAc7C,GAAKtE,SAAU4H,EAAM5H,iB,6BC5I9D,IAAI8H,EAAM,CACT,aAAc,OACd,gBAAiB,OACjB,cAAe,OACf,gBAAiB,OACjB,eAAgB,QAIjB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOhL,EAAoBiL,GAE5B,SAASC,EAAsBF,GAC9B,IAAIhL,EAAoBW,EAAEmK,EAAKE,GAAM,CACpC,IAAIpG,EAAI,IAAIuG,MAAM,uBAAyBH,EAAM,KAEjD,MADApG,EAAEwG,KAAO,mBACHxG,EAEP,OAAOkG,EAAIE,GAEZD,EAAeM,KAAO,WACrB,OAAOvM,OAAOuM,KAAKP,IAEpBC,EAAeO,QAAUJ,EACzB9K,EAAOD,QAAU4K,EACjBA,EAAeE,GAAK,Q,kCC1BpB,OAAe,qK,k3/zBCCf,IAAI/I,EAA8B,EAAQ,QAC1C/B,EAAU+B,GAA4B,GAEtC/B,EAAQhB,KAAK,CAACiB,EAAOzB,EAAI,mSAAoS,KAE7TyB,EAAOD,QAAUA,G,uBCNjB,IAAI2K,EAAM,CACT,kBAAmB,OACnB,kBAAmB,OACnB,cAAe,OACf,gBAAiB,OACjB,iBAAkB,OAClB,kBAAmB,OACnB,kBAAmB,OACnB,kBAAmB,OACnB,eAAgB,OAChB,kBAAmB,OACnB,eAAgB,OAChB,gBAAiB,OACjB,gBAAiB,QAIlB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOhL,EAAoBiL,GAE5B,SAASC,EAAsBF,GAC9B,IAAIhL,EAAoBW,EAAEmK,EAAKE,GAAM,CACpC,IAAIpG,EAAI,IAAIuG,MAAM,uBAAyBH,EAAM,KAEjD,MADApG,EAAEwG,KAAO,mBACHxG,EAEP,OAAOkG,EAAIE,GAEZD,EAAeM,KAAO,WACrB,OAAOvM,OAAOuM,KAAKP,IAEpBC,EAAeO,QAAUJ,EACzB9K,EAAOD,QAAU4K,EACjBA,EAAeE,GAAK,Q,2zzgLClCpB,OAAe,sZ,0KCYTM,E,wDAKF,iDAAiB,eAAjB,sCAJW,OAAK/F,WAAW,GAAK,GAAK,KAIrC,sCAHW,OAAKA,WAAW,GAAK,GAAK,KAGrC,sCAFW,OAAKA,WAAW,GAAK,GAAK,KAErC,E,iDAEA,SAAYE,EAAWC,EAAWC,GAA6D,OAApClD,KAAKiF,GAAK,OAAKnC,WAAWE,EAAGC,EAAGC,GAAWlD,O,wBACtG,SAAYgD,EAAWC,EAAWC,GAA6D,OAApClD,KAAKkF,GAAK,OAAKpC,WAAWE,EAAGC,EAAGC,GAAWlD,O,yBACtG,SAAagD,EAAWC,EAAWC,GAA6D,OAApClD,KAAKmF,GAAK,OAAKrC,WAAWE,EAAGC,EAAGC,GAAWlD,S,GATlF,S,soy0fCZzB,IAAIoI,EAAM,CACT,cAAe,OACf,oBAAqB,OACrB,qBAAsB,QAIvB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOhL,EAAoBiL,GAE5B,SAASC,EAAsBF,GAC9B,IAAIhL,EAAoBW,EAAEmK,EAAKE,GAAM,CACpC,IAAIpG,EAAI,IAAIuG,MAAM,uBAAyBH,EAAM,KAEjD,MADApG,EAAEwG,KAAO,mBACHxG,EAEP,OAAOkG,EAAIE,GAEZD,EAAeM,KAAO,WACrB,OAAOvM,OAAOuM,KAAKP,IAEpBC,EAAeO,QAAUJ,EACzB9K,EAAOD,QAAU4K,EACjBA,EAAeE,GAAK,Q,uBCrBpB,IAAIO,EAAU,EAAQ,SACnBA,EAAQnK,aAAYmK,EAAUA,EAAQhD,SACnB,kBAAZgD,IAAsBA,EAAU,CAAC,CAACpL,EAAOzB,EAAI6M,EAAS,MAC7DA,EAAQC,SAAQrL,EAAOD,QAAUqL,EAAQC,QAE5C,IAAI5F,EAAM,EAAQ,QAA+D2C,QACpE3C,EAAI,WAAY2F,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,qBCT5EpL,EAAOD,QAAU,sjJ,kCCAjB,OAAe,kqD,mvyuDCAf,OAAe,+gD,qBCGf,IAAIqL,EAAU,EAAQ,QACnBA,EAAQnK,aAAYmK,EAAUA,EAAQhD,SACnB,kBAAZgD,IAAsBA,EAAU,CAAC,CAACpL,EAAOzB,EAAI6M,EAAS,MAC7DA,EAAQC,SAAQrL,EAAOD,QAAUqL,EAAQC,QAE5C,IAAI5F,EAAM,EAAQ,QAA+D2C,QACpE3C,EAAI,WAAY2F,GAAS,EAAM,CAAC,WAAY,EAAM,YAAa,K,kCCT5E,OAAe,8/D,4dCsCTE,GAhC0BC,Y,wDAgD5B,WACEC,EACAC,EACAC,GAAqB,oCAErB,eAFqB,4CAlBN,OAAKvG,KAAK,OAAKhE,WAkBT,4CAjBN,OAAKA,UAiBC,yCAhBT,OAAKiE,WAAW,EAAG,EAAG,IAgBb,yCAfT,OAAKD,KAAK,OAAKhE,WAeN,yCAbP,IAaO,iGATZ,GASY,8KAGrB,EAAKgG,cAAgBqE,OACFG,IAAfF,GAA4B,EAAKG,UAAUH,QAC1BE,IAAjBD,GAA8B,EAAKG,YAAYH,GAL9B,E,gDAQvB,SAAWrL,GAeTiC,KAAKwJ,iBAAmB,UAAQ,YAAmBzL,EAApB,UAC/BiC,KAAKyJ,oB,yBAGP,SAAY1L,GAAY,WAClB2L,EAAQ,IAAIC,MAChBD,EAAME,OAAS,WACb,EAAKC,SAASxE,QAAUqE,EACxBI,QAAQC,IAAI,kBAEdL,EAAMM,IAAN,UAAe,UAAQ,YAAqBjM,KAC5CiC,KAAK6J,SAAW,CACd9L,KAAMA,EACNsH,aAASgE,EACTY,OAAQlF,GAAGmF,mB,6BAIf,WAGE,IAAK,IAAMpL,KADXkB,KAAKmK,cAAgB,GACHnK,KAAKwJ,iBACrB,QAAYH,IAARvK,GAA4B,uBAAPA,EAA8B,CACrD,IAAIsL,EAAMrF,GAAGsF,eACbtF,GAAGuF,WAAWvF,GAAGwF,aAAcH,GAC/BrF,GAAGyF,WAAWzF,GAAGwF,aAAc,IAAIE,aAA4BzK,KAAKwJ,iBAAiB1K,IAAOiG,GAAG2F,aAC/FN,EAAIO,SAAW,EACfP,EAAIQ,SAAW5K,KAAKwJ,iBAAiB1K,GAAK3C,OAAS,EACnD6D,KAAKmK,cAAcrL,GAAOsL,OACtB,GAAU,uBAAPtL,EAA6B,CACpC,IAAI,EAAMiG,GAAGsF,eACbtF,GAAGuF,WAAWvF,GAAGwF,aAAc,GAC/BxF,GAAGyF,WAAWzF,GAAGwF,aAAc,IAAIE,aAA4BzK,KAAKwJ,iBAAiB1K,IAAOiG,GAAG2F,aAC/F,EAAIC,SAAW,EACf,EAAIC,SAAW5K,KAAKwJ,iBAAiB1K,GAAK3C,OAAS,EACnD6D,KAAKmK,cAAcrL,GAAO,EAG9BkB,KAAK6K,UAAW,I,kBAGlB,WACO7K,KAAK6K,UAAa7K,KAAK6E,cAAc+C,WAC1C7C,GAAG6B,WAAW5G,KAAK6E,cAAcA,eACjC7E,KAAK8K,aAGL/F,GAAGuF,WAAWvF,GAAGwF,aAAcvK,KAAKmK,cAAcY,iBAClDhG,GAAGiG,oBAAoBhL,KAAK6E,cAAcgC,wBACxC7G,KAAKmK,cAAcY,gBAAgBJ,SACnC5F,GAAGkG,OACH,EACA,EACA,GAGFlG,GAAGuF,WAAWvF,GAAGwF,aAAcvK,KAAKmK,cAAce,mBAClDnG,GAAGiG,oBAAoBhL,KAAK6E,cAAcmC,0BACxChH,KAAKmK,cAAce,kBAAkBP,SACrC5F,GAAGkG,OACH,EACA,EACA,GAGCjL,KAAK6E,cAAcoC,uBAAyB,IAC7ClC,GAAGuF,WAAWvF,GAAGwF,aAAcvK,KAAKmK,cAAcgB,eAClDpG,GAAGiG,oBAAoBhL,KAAK6E,cAAcoC,sBACxCjH,KAAKmK,cAAcgB,cAAcR,SACjC5F,GAAGkG,OACH,EACA,EACA,IAEDjL,KAAK6E,cAAcqC,mBAAqB,QAAgDmC,IAA3CrJ,KAAKmK,cAAciB,sBACjErG,GAAGuF,WAAWvF,GAAGwF,aAAcvK,KAAKmK,cAAciB,qBAClDrG,GAAGiG,oBAAoBhL,KAAK6E,cAAcqC,kBACxClH,KAAKmK,cAAciB,oBAAoBT,SACvC5F,GAAGkG,OACH,EACA,EACA,IAEJlG,GAAGsG,WAAWtG,GAAGuG,UAAW,EAAGtL,KAAKmK,cAAcY,gBAAgBH,WAzCXd,QAAQC,IAAI,oC,wBA4CrE,WACE,IAAIwB,EAAM,OAAK1M,SACf,OAAKkE,MAAMwI,EAAKA,EAAKvL,KAAK+C,OAE1B,IAAIyI,EAAY,OAAK1I,WACnB,EAAG9C,KAAKyL,MAAM,GAAI,EAAG,EACrBzL,KAAKyL,MAAM,GAAI,EAAG,EAAG,EACrBzL,KAAKyL,MAAM,GAAI,EAAG,EAAG,EACrB,EAAG,EAAG,EAAG,GAGX,OAAKC,IAAIH,EAAK,OAAKI,SAAS,OAAK9M,SAAUmB,KAAKK,UAAWkL,GAC3D,OAAKG,IAAIH,EAAKC,EAAWD,GACzB,OAAKG,IAAIH,EAAK,OAAKK,gBAAgB,OAAK/M,SAAUmB,KAAKM,UAAWiL,GAElExG,GAAGiD,iBAAiBhI,KAAK6E,cAAc0C,oBAAoB,EAAOgE,GAElE,OAAK9K,UAAU8K,EAAK,OAAKhL,OAAOgL,EAAKA,IACrCxG,GAAGiD,iBAAiBhI,KAAK6E,cAAc2C,yBAAyB,EAAO+D,GAEvExG,GAAG8G,UAAU7L,KAAK6E,cAAc6C,aAAc1H,KAAK8L,OAGhD9L,KAAK6E,cAAcqC,mBAAqB,SACpBmC,IAAlBrJ,KAAK6J,UACN9E,GAAGgC,wBAAwB/G,KAAK6E,cAAcqC,mBAC9CnC,GAAGoD,UAAUnI,KAAK6E,cAAcsC,eAAerC,QAAS,GACxDC,GAAGoD,UAAUnI,KAAK6E,cAAcsC,eAAe9B,QAAS,GACxDN,GAAGgH,cAAchH,GAAGiH,UACpBjH,GAAGkH,YAAYlH,GAAGmH,WAAYlM,KAAK6J,SAASI,QAC5ClF,GAAGoH,cAAcpH,GAAGmH,WAAYnH,GAAGqH,eAAgBrH,GAAGsH,QACtDtH,GAAGoH,cAAcpH,GAAGmH,WAAYnH,GAAGuH,eAAgBvH,GAAGsH,QACtDtH,GAAGoH,cAAcpH,GAAGmH,WAAYnH,GAAGwH,mBAAoBxH,GAAGyH,QAC1DzH,GAAGoH,cAAcpH,GAAGmH,WAAYnH,GAAG0H,mBAAoB1H,GAAGyH,aAC7BnD,IAA1BrJ,KAAK6J,SAASxE,QACfN,GAAG2H,WAAW3H,GAAGmH,WAAY,EAAGnH,GAAG4H,KAAM5H,GAAG4H,KAAM5H,GAAG6H,cAAe5M,KAAK6J,SAASxE,SAElFN,GAAG2H,WAAW3H,GAAGmH,WAAY,EAAGnH,GAAG4H,KAAM,EAAG,EAAG,EAAG5H,GAAG4H,KAAM5H,GAAG6H,cAAe,IAAIC,WAAW,CAAC,EAAG,EAAG,IAAK,SAG1G9H,GAAG+H,yBAAyB9M,KAAK6E,cAAcqC,mBAC/CnC,GAAGoD,UAAUnI,KAAK6E,cAAcsC,eAAerC,QAAS,O,sBAK9D,SAAUvH,GAA4C,OAAnB,sEAAeA,GAAWyC,O,yBAC7D,SAAagD,EAAWC,EAAWC,GAAqD,OAA5B,yEAAkBF,EAAGC,EAAGC,GAAWlD,O,oBAE/F,SAAQgD,EAAWC,EAAWC,GAAiD,OAAvB,oEAAaF,EAAGC,EAAGC,GAAWlD,O,uBACtF,SAAWgD,EAAWC,EAAWC,GAAoD,OAA1B,uEAAgBF,EAAGC,EAAGC,GAAWlD,O,oBAE5F,SAAQgD,EAAWC,EAAWC,GAAiD,OAAvB,oEAAaF,EAAGC,EAAGC,GAAWlD,O,qBACtF,SAAS3B,GAA4C,OAAlB,qEAAcA,GAAW2B,O,qBAC5D,SAAS3B,GAA4C,OAAlB,qEAAcA,GAAW2B,O,qBAC5D,SAAS3B,GAA4C,OAAlB,qEAAcA,GAAW2B,O,wBAC5D,SAAY3B,EAAWmF,GAAsD,OAA3B,wEAAiBnF,EAAGmF,GAAcxD,O,sBAEpF,SAAS8L,GAAkD,OAApB9L,KAAK8L,MAAQA,EAAc9L,S,GA1L5C,U,y/w8KCvB1BX,OAAOuK,OAAS,kBAAMmD,KACtB1N,OAAO2N,SAAW,kBAAMC,KA2BxB,IAAIC,EAAc,GACdC,EAAc,EACdlM,EAA4BmM,SAASC,cAAc,UAEvD,SAASC,IACLC,EAAOtF,OAAS,GAChBsF,EAAOC,cAAgB,GACvBD,EAAOE,gBAAkB,GACzBF,EAAOG,aAAe,GACtBH,EAAOI,OAAS,IAAI,OAAO,CAAC/N,MAAOqB,EAAOrB,MAAOE,OAAQmB,EAAOnB,SAChEyN,EAAOK,aAAe,CAClB,YACA,kBACA,oBAIR,SAASX,IACLhM,EAAOrB,MAAQP,OAAOwO,WACtB5M,EAAOnB,OAAST,OAAOyO,YAAY,EACnCH,OAAOhO,cAAgBsB,EAAOrB,MAC9B+N,OAAO9N,eAAiBoB,EAAOnB,OAGnC,SAASiN,IACL9L,EAAOsH,GAAK,aACZtH,EAAOrB,MAAS,KAChBqB,EAAOnB,OAAS,IAChBmB,EAAO8M,MAAMC,gBAAkB,UAC/B/M,EAAO8M,MAAME,IAAM,IACnBhN,EAAO8M,MAAMG,KAAO,IACpBjN,EAAO8M,MAAMzN,SAAW,QACxB6N,EAAOlN,GACPqM,IACAL,IAEAU,OAAOS,OAAO,EAAI,EAAG,IAErB,IAAIzQ,GAAI,IAAI,QAAa0Q,WAAW,GAAI,GAAI,IAC5C1Q,EAAEyQ,QAAQ,GAAI,EAAG,GACjBnG,OAAOxL,KAAKkB,GACZA,GAAI,IAAI,QAAa2Q,WAAW,EAAG,EAAG,GAAGD,WAAW,GAAI,GAAI,IAAIE,YAAY,GAAI,GAAI,IACpF5Q,EAAEyQ,OAAO,EAAG,GAAI,IAChBnG,OAAOxL,KAAKkB,GACZA,GAAI,IAAI,QAAa2Q,WAAW,EAAG,EAAG,GAAGD,WAAW,GAAI,GAAI,IAAIE,YAAY,GAAI,GAAI,IACpF5Q,EAAEyQ,OAAO,EAAG,IAAK,KACjBnG,OAAOxL,KAAKkB,GAEZ8P,gBAAgB,SAAW,IAAI,OAAY,SAC3CA,gBAAgB,UAAY,IAAI,OAAY,UAC5CA,gBAAgB,QAAU,IAAI,OAAY,QAC1CA,gBAAgB,OAAS,IAAI,OAAY,OACzCA,gBAAgB,UAAY,IAAI,OAAY,UAC5CD,cAAc,UAAY,IAAI,OAAYC,gBAAgB,QAAS,UAC9De,SAAS,IAAIC,QAAQ,GAAI,EAAG,GAAGL,QAAQ,GAAI,EAAG,GAAGM,SAAS,GAC/DlB,cAAc,WAAa,IAAI,OAAYC,gBAAgB,SAAU,UAChEe,SAAS,IAAIC,QAAQ,IAAK,EAAG,GAAGL,OAAO,GAAI,EAAG,GAAGM,SAAS,IAC/DlB,cAAc,UAAY,IAAI,OAC1BC,gBAAgB,UAAW,SAAU,oBACpCe,SAAS,IAAKE,SAAS,IAG5B,IAAIC,EAAK,eAAU,QACnBA,EAAGC,MAAM,QAMT7J,GAAG8J,WAAW,GAAK,GAAK,GAAK,GAC7B9J,GAAG+J,OAAO/J,GAAGgK,YAEb3B,SAAS4B,KAAKC,YAAYhO,GAC1BiO,IAIJ,SAASf,EAAOlN,GACZ,IAEI,GADAsM,EAAOxI,GAA6B9D,EAAOgB,WAAW,UAAoChB,EAAOgB,WAAW,uBACxG8C,GAAGoK,aAAa,4BAChB,KAAM,mCAGd,MAAOjN,IAEF6C,IACD2B,MAAM,yCAId,SAAS0I,EAASC,GACd,OAAOA,EAAUhL,KAAKC,GAAK,IAG/B,SAASgL,IACLpC,GAAekC,EAAS,KAAQ1B,aAChCF,cAAc,UAAUlK,QAAQ8L,EAAS,KAAQ1B,cAGjDzF,OAAO,GAAGmG,OAAO,GAAG/J,KAAKkL,IAAIrC,GAAcjF,OAAO,GAAG3H,SAAS,GAAI,GAAG+D,KAAKmL,IAAItC,IAKlF,SAASuC,IACL1K,GAAGrF,SAAS,EAAG,EAAGiO,OAAOhO,cAAegO,OAAO9N,gBAC/CkF,GAAG2K,MAAM3K,GAAG4K,iBAAmB5K,GAAG6K,kBAElCjC,OAAOkC,SACP,IAAIC,EAAYnC,OAAOjN,SACvBtE,OAAO2T,QAAQtC,iBAAiBhJ,SAC5B,YAAa,0BAATuL,EAAS,KACTA,EAAKC,uBAAuBH,GAC5BE,EAAKE,iBAAiBjI,QACtB+H,EAAKG,iBAAiBxC,OAAOrN,aAGrClE,OAAO2T,QAAQvC,eAAe/I,SAC1B,sCAAI2L,EAAJ,YAAaA,EAAIX,UAMzB,SAASY,IACL,IAAIC,GAAU,IAAIC,MAAOC,UACT,GAAZrD,IACAO,aAAe4C,EAAUnD,GAE7BA,EAAWmD,EAGf,SAASpB,IAEL7P,OAAO8C,iBAAiB+M,GACxBI,IACAG,IACAY,M,urmiPCpLKI,MAAM,S,mGAAX,eAaM,MAbN,EAaM,CAZF,eAMM,Y,eALF,eAIS,U,qDAJQ,EAAAC,SAAQ,IAAE3C,MAAA,qBAAuB4C,KAAK,M,CACnD,eAAsE,UAA7DnS,MAAO,EAAAoS,iBAAkBF,SAAA,IAAS,qBAAkB,c,mBAE7D,eAA8D,2BAA1C,EAAAN,KAAG,SAARnS,G,wBAAf,eAA8D,UAApCa,IAAIb,EAAGO,MAAMP,G,eAAKA,EAAEF,MAAI,gB,qBAHrC,EAAA2S,cAOrB,eAGM,YADS,EAAAG,a,iBAAX,eAAoF,SAA3D,eAAmD,GAAhCT,IAAI,EAAAM,UAAQ,mB,yLCX3DD,MAAM,oB,EAGP,eAA+B,KAA5BA,MAAM,SAAQ,cAAU,G,EAK3B,eAAK,mB,EAEL,eAA+B,KAA5BA,MAAM,SAAQ,cAAU,G,EAK3B,eAAK,mB,EAEL,eAA4B,KAAzBA,MAAM,SAAQ,WAAO,G,EAKxB,eAAK,mB,EAEL,eAA6B,KAA1BA,MAAM,SAAQ,YAAQ,G,GAItBA,MAAM,S,iBAAQ,W,SAEIA,MAAM,S,gDA9B/B,eAkCM,MAlCN,EAkCM,CAjCF,eAA+B,UAA3B,YAAS,eAAE,EAAAL,IAAIrS,MAAI,GAEvB,G,mBACA,eAGM,2BAHsB,EAAA+S,KAAG,SAAlBpM,EAAKqM,G,wBAAlB,eAGM,OAH4BjS,IAAIiS,EAAMN,MAAM,S,+BAC5C,EAAAO,IAAID,IAAQ,IACd,G,eAAA,eAAiD,S,yCAA1B,EAAAD,IAAIC,GAAK,GAAGN,MAAM,S,yCAAlB,EAAAK,IAAIC,Q,WAApB,W,MAEX,EAEA,G,mBACA,eAGM,2BAHsB,EAAAE,KAAG,SAAlBvM,EAAKqM,G,wBAAlB,eAGM,OAH4BjS,IAAIiS,EAAMN,MAAM,S,+BAC5C,EAAAO,IAAID,IAAQ,IACd,G,eAAA,eAA8E,S,yCAAvD,EAAAG,MAAMH,GAAK,GAAI,QAAK,8CAAQ,EAAAI,aAAA,EAAAA,YAAA,qBAAW,YAAEV,MAAM,S,0CAA/C,EAAAS,MAAMH,Q,WAAtB,W,MAEX,EAEA,G,mBACA,eAGM,2BAHsB,EAAAtF,OAAK,SAApB/G,EAAKqM,G,wBAAlB,eAGM,OAH8BjS,IAAIiS,EAAMN,MAAM,S,+BAC9CM,GAAO,IACT,G,eAAA,eAAmD,S,yCAA5B,EAAAtF,MAAMsF,GAAK,GAAGN,MAAM,S,yCAApB,EAAAhF,MAAMsF,Q,WAAtB,W,MAEX,EAEA,E,eACA,eAES,U,qDAFQ,EAAAK,gBAAe,IAAErD,MAAA,qBAAuB0C,MAAM,S,qBAC3D,eAAsF,2BAA1D,EAAAhD,iBAAe,SAA3B4D,EAAGtT,G,wBAAnB,eAAsF,UAAxCe,IAAIf,EAAMS,MAAMT,G,eAAQA,GAAI,gB,qBAD7D,EAAAqT,mBAGjB,eAAyE,IAAzE,EAAyE,C,iBAAjD,eAA4C,S,qDAArB,EAAAtF,MAAK,IAAE2E,MAAM,S,mBAAb,EAAA3E,W,WAAhB,QAEtB,EAAAwF,Y,iBAAT,eAAgD,IAAhD,EAAmC,c,sBACrB,EAAAA,W,iCAAd,eAES,U,2DAF0B,EAAAC,iBAAgB,IAAExD,MAAA,qBAAuB0C,MAAM,S,qBAC9E,eAAkF,2BAAvD,EAAA7C,cAAY,SAAvB7P,G,wBAAhB,eAAkF,UAAxCe,IAAIf,EAAMS,MAAMT,G,eAAQA,GAAI,gB,sBADvC,EAAAwT,oB,oDClBrC,E,uEAIe,E,wTAGC9D,iB,gDACHG,c,iDAEf,WAAoB,YAAoCvE,IAA7BrJ,KAAKoQ,IAAInR,OAAO4K,W,4BAC3C,WACI,YAAgCR,IAA7BrJ,KAAKoQ,IAAInR,OAAO4K,SACR,OAEJ7J,KAAKoQ,IAAInR,OAAO4K,SAAS9L,M,IAEpC,SAAqBA,GAAQiC,KAAKoQ,IAAInR,OAAOsK,YAAYxL,K,2BAEzD,WAAwB,OAAOiC,KAAKoQ,IAAInR,OAAO4F,cAAc9G,M,IAC7D,SAAoBA,GAAQiC,KAAKoQ,IAAInR,OAAO4F,cAAgB4I,gBAAgB1P,K,iBAE5E,WAAc,OAAOiC,KAAKoQ,IAAInR,OAAO6M,O,IACrC,SAAUpH,GAAe1E,KAAKoQ,IAAInR,OAAO6M,MAAQpH,I,eAEjD,WAAW,OAAO1E,KAAKoQ,IAAInR,OAAOqB,SAASkR,Y,iBAE3C,WAAa,OAAOxR,KAAKoQ,IAAInR,OAAOwM,MAAM+F,Y,eAE1C,WAGI,OAFAxR,KAAKkR,MAAQ,GACb,eAASlR,KAAKkR,MAAOlR,KAAKoQ,IAAInR,OAAOoB,UAC9BL,KAAKkR,Q,yBAGhB,WACIlR,KAAKoQ,IAAInR,OAAOoB,SAAW,OAAK+C,UAAU,OAAKvE,SAAUmB,KAAKkR,MAAM,GAAIlR,KAAKkR,MAAM,GAAIlR,KAAKkR,MAAM,M,iBAGtG,SAAIH,GAAQ,MAAO,MAAMA,O,GAnCgB,OAAIU,KAAK,I,UCbtD,EAAOC,OAAS,EAED,QCGM,EAArB,2PAC6B,IAD7B,oDAEwC,CAAE3T,KAAM,OAAQkB,OAAQ,OAFhE,4CAGgC,EAAK2R,kBAHrC,oDAKI,WAAW,WACP5Q,KAAKoQ,IAAM,GACXhU,OAAO2T,QAAQvC,eAAe/I,SAC1B,YAAgB,0BAAd1G,EAAc,KAARqS,EAAQ,KACZ,EAAKA,IAAI3T,KAAK,CACVsB,KAAMA,EACNkB,OAAQmR,SAX5B,uBAiBI,WACI,OAAOpQ,KAAK0Q,SAASzR,kBAAkB,WAlB/C,GAAsD,QAAjC,EAAwB,gBAH5C,eAAQ,CACL0S,WAAY,CAACC,gBAAA,MAEI,W,UCLrB,EAAOF,OAASA,EAED,U,g782BCPf,OAAe,05C,kCCAf,W,kCCAA,OAAe,4iC,qBCAf,IAAItJ,EAAM,CACT,aAAc,OACd,gBAAiB,OACjB,cAAe,OACf,gBAAiB,OACjB,eAAgB,QAIjB,SAASC,EAAeC,GACvB,IAAIC,EAAKC,EAAsBF,GAC/B,OAAOhL,EAAoBiL,GAE5B,SAASC,EAAsBF,GAC9B,IAAIhL,EAAoBW,EAAEmK,EAAKE,GAAM,CACpC,IAAIpG,EAAI,IAAIuG,MAAM,uBAAyBH,EAAM,KAEjD,MADApG,EAAEwG,KAAO,mBACHxG,EAEP,OAAOkG,EAAIE,GAEZD,EAAeM,KAAO,WACrB,OAAOvM,OAAOuM,KAAKP,IAEpBC,EAAeO,QAAUJ,EACzB9K,EAAOD,QAAU4K,EACjBA,EAAeE,GAAK","file":"js/app.b6792213.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export default \"attribute vec3 aVertexPosition;\\r\\nattribute vec3 aFrontColor;\\r\\nattribute vec3 aNormal;\\r\\n\\r\\nuniform mat4 uModelMatrix;\\r\\nuniform mat4 uMVMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\nuniform mat4 uinvTMVMatrix;\\r\\nuniform mat4 uinvTModelMatrix;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\n\\r\\nvoid main(void) {\\r\\n    fragcolor = aFrontColor;\\r\\n    // pos = aVertexPosition;\\r\\n    pos = (uModelMatrix * vec4(aVertexPosition, 1)).xyz;\\r\\n    // normal = normalize(aNormal);\\r\\n    vNormal = ((uinvTModelMatrix * vec4(aNormal, 0.0)).xyz);\\r\\n\\r\\n    gl_Position = uPMatrix * uMVMatrix * vec4(pos, 1.0);\\r\\n}\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".panel{position:fixed;top:50%;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;text-align:left;margin-top:10px;width:100%;height:50%;font-size:18px;display:flex}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","import { mat4, vec3, quat } from 'gl-matrix'\r\nimport { Transform } from './transform'\r\n\r\nclass Camera extends Transform {\r\n    viewportWidth: number;\r\n    viewportHeight: number;\r\n    FOV = 3.14*60/180;\r\n\r\n    mvMatrix: mat4 = mat4.create();\r\n    pMatrix: mat4 = mat4.create();\r\n    invT_mvMatrix: mat4 = mat4.create();\r\n\r\n    constructor (viewport: {width: number, height: number}) {\r\n      super()\r\n      this.viewportWidth = viewport.width\r\n      this.viewportHeight = viewport.height\r\n    }\r\n\r\n    setMVP () {\r\n      // Setup Projection Matrix\r\n      mat4.perspective(this.pMatrix, this.FOV, this.viewportWidth / this.viewportHeight, 0.1, 300.0)\r\n      // let width = 15;\r\n      // mat4.ortho(this.pMatrix, -width*this.viewportWidth / this.viewportHeight, width*this.viewportWidth / this.viewportHeight, -width, width, 0.1, 300.0)\r\n\r\n      // Setup Model-View Matrix\r\n      mat4.fromRotationTranslation(this.mvMatrix, this.rotation, this.position)\r\n      mat4.invert(this.mvMatrix, this.mvMatrix)\r\n\r\n      mat4.invert(this.invT_mvMatrix, this.mvMatrix)\r\n      mat4.transpose(this.invT_mvMatrix, this.invT_mvMatrix)\r\n      return this.getMVP()\r\n    }\r\n\r\n    getMVP () {\r\n      return {\r\n        pMatrix: this.pMatrix,\r\n        mvMatrix: this.mvMatrix,\r\n        invT_mvMatrix: this.invT_mvMatrix\r\n      }\r\n    }\r\n}\r\n\r\nexport {\r\n  Camera\r\n}\r\n","/*\r\n * Copyright 2010, Google Inc.\r\n * All rights reserved.\r\n *\r\n * Redistribution and use in source and binary forms, with or without\r\n * modification, are permitted provided that the following conditions are\r\n * met:\r\n *\r\n *     * Redistributions of source code must retain the above copyright\r\n * notice, this list of conditions and the following disclaimer.\r\n *     * Redistributions in binary form must reproduce the above\r\n * copyright notice, this list of conditions and the following disclaimer\r\n * in the documentation and/or other materials provided with the\r\n * distribution.\r\n *     * Neither the name of Google Inc. nor the names of its\r\n * contributors may be used to endorse or promote products derived from\r\n * this software without specific prior written permission.\r\n *\r\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\r\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\r\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\r\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\r\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\r\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\r\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\r\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\r\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\r\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\r\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\r\n */\r\n\r\n/**\r\n * @fileoverview This file contains functions every webgl program will need\r\n * a version of one way or another.\r\n *\r\n * Instead of setting up a context manually it is recommended to\r\n * use. This will check for success or failure. On failure it\r\n * will attempt to present an approriate message to the user.\r\n *\r\n *       gl = WebGLUtils.setupWebGL(canvas);\r\n *\r\n * For animated WebGL apps use of setTimeout or setInterval are\r\n * discouraged. It is recommended you structure your rendering\r\n * loop like this.\r\n *\r\n *       function render() {\r\n *         window.requestAnimFrame(render, canvas);\r\n *\r\n *         // do rendering\r\n *         ...\r\n *       }\r\n *       render();\r\n *\r\n * This will call your rendering function up to the refresh rate\r\n * of your display but will stop rendering if your app is not\r\n * visible.\r\n */\r\n\r\nWebGLUtils = (function () {\r\n/**\r\n * Creates the HTLM for a failure message\r\n * @param {string} canvasContainerId id of container of th\r\n *        canvas.\r\n * @return {string} The html.\r\n */\r\n  var makeFailHTML = function (msg) {\r\n    return '' +\r\n    '<table style=\"background-color: #8CE; width: 100%; height: 100%;\"><tr>' +\r\n    '<td align=\"center\">' +\r\n    '<div style=\"display: table-cell; vertical-align: middle;\">' +\r\n    '<div style=\"\">' + msg + '</div>' +\r\n    '</div>' +\r\n    '</td></tr></table>'\r\n  }\r\n\r\n  /**\r\n * Mesasge for getting a webgl browser\r\n * @type {string}\r\n */\r\n  var GET_A_WEBGL_BROWSER = '' +\r\n  'This page requires a browser that supports WebGL.<br/>' +\r\n  '<a href=\"http://get.webgl.org\">Click here to upgrade your browser.</a>'\r\n\r\n  /**\r\n * Mesasge for need better hardware\r\n * @type {string}\r\n */\r\n  var OTHER_PROBLEM = '' +\r\n  \"It doesn't appear your computer can support WebGL.<br/>\" +\r\n  '<a href=\"http://get.webgl.org/troubleshooting/\">Click here for more information.</a>'\r\n\r\n  /**\r\n * Creates a webgl context. If creation fails it will\r\n * change the contents of the container of the <canvas>\r\n * tag to an error message with the correct links for WebGL.\r\n * @param {Element} canvas. The canvas element to create a\r\n *     context from.\r\n * @param {WebGLContextCreationAttirbutes} opt_attribs Any\r\n *     creation attributes you want to pass in.\r\n * @param {function:(msg)} opt_onError An function to call\r\n *     if there is an error during creation.\r\n * @return {WebGLRenderingContext} The created context.\r\n */\r\n  var setupWebGL = function (canvas, opt_attribs, opt_onError) {\r\n    function handleCreationError (msg) {\r\n      var container = canvas.parentNode\r\n      if (container) {\r\n        var str = window.WebGLRenderingContext\r\n          ? OTHER_PROBLEM\r\n          : GET_A_WEBGL_BROWSER\r\n        if (msg) {\r\n          str += '<br/><br/>Status: ' + msg\r\n        }\r\n        container.innerHTML = makeFailHTML(str)\r\n      }\r\n    }\r\n\r\n    opt_onError = opt_onError || handleCreationError\r\n\r\n    if (canvas.addEventListener) {\r\n      canvas.addEventListener('webglcontextcreationerror', function (event) {\r\n        opt_onError(event.statusMessage)\r\n      }, false)\r\n    }\r\n    var context = create3DContext(canvas, opt_attribs)\r\n    if (!context) {\r\n      if (!window.WebGLRenderingContext) {\r\n        opt_onError('')\r\n      }\r\n    }\r\n    return context\r\n  }\r\n\r\n  /**\r\n * Creates a webgl context.\r\n * @param {!Canvas} canvas The canvas tag to get context\r\n *     from. If one is not passed in one will be created.\r\n * @return {!WebGLContext} The created context.\r\n */\r\n  var create3DContext = function (canvas, opt_attribs) {\r\n    var names = ['webgl', 'experimental-webgl', 'webkit-3d', 'moz-webgl']\r\n    var context = null\r\n    for (var ii = 0; ii < names.length; ++ii) {\r\n      try {\r\n        context = canvas.getContext(names[ii], opt_attribs)\r\n      } catch (e) {}\r\n      if (context) {\r\n        break\r\n      }\r\n    }\r\n    return context\r\n  }\r\n\r\n  return {\r\n    create3DContext: create3DContext,\r\n    setupWebGL: setupWebGL\r\n  }\r\n}())\r\n\r\n/**\r\n * Provides requestAnimationFrame in a cross browser way.\r\n */\r\nwindow.requestAnimFrame = (function () {\r\n  return window.requestAnimationFrame ||\r\n         window.webkitRequestAnimationFrame ||\r\n         window.mozRequestAnimationFrame ||\r\n         window.oRequestAnimationFrame ||\r\n         window.msRequestAnimationFrame ||\r\n         function (/* function FrameRequestCallback */ callback, /* DOMElement Element */ element) {\r\n           window.setTimeout(callback, 1000 / 60)\r\n         }\r\n})()\r\n","import { mat4, vec3, quat } from 'gl-matrix'\r\ndeclare let gl: WebGLRenderingContext\r\n\r\nclass Transform {\r\n    position: vec3 = vec3.zero(vec3.create());\r\n    rotation: quat = quat.create();\r\n    scale: vec3 = vec3.fromValues(1, 1, 1);\r\n\r\n    constructor () {}\r\n\r\n    setScale (s: number): Transform { vec3.scale(this.scale, this.scale, s); return this }\r\n    setScaleXYZ (x: number, y: number, z: number): Transform { this.scale = vec3.fromValues(x, y, z); return this }\r\n\r\n    setPos (x: number, y: number, z: number): Transform { this.position = vec3.fromValues(x, y, z); return this }\r\n    translate (x: number, y: number, z: number): Transform { vec3.add(this.position, this.position, vec3.fromValues(x, y, z)); return this }\r\n\r\n    setRot (x: number, y: number, z: number): Transform { this.rotation = quat.fromEuler(quat.create(), x, y, z); return this }\r\n    rotateX (r: number): Transform { quat.rotateX(this.rotation, this.rotation, r); return this }\r\n    rotateY (r: number): Transform { quat.rotateY(this.rotation, this.rotation, r); return this }\r\n    rotateZ (r: number): Transform { quat.rotateZ(this.rotation, this.rotation, r); return this }\r\n    rotateAxis (r: number, axis: vec3): Transform { quat.multiply(this.rotation, this.rotation, quat.setAxisAngle(quat.create(), axis, r)); return this }\r\n}\r\n\r\nexport function getEuler(out, quat) {\r\n  let x = quat[0],\r\n    y = quat[1],\r\n    z = quat[2],\r\n    w = quat[3],\r\n    x2 = x * x,\r\n    y2 = y * y,\r\n    z2 = z * z,\r\n    w2 = w * w;\r\n  let unit = x2 + y2 + z2 + w2;\r\n  let test = x * w - y * z;\r\n  if (test > 0.499995 * unit) { //TODO: Use glmatrix.EPSILON\r\n    // singularity at the north pole\r\n    out[0] = Math.PI / 2;\r\n    out[1] = 2 * Math.atan2(y, x);\r\n    out[2] = 0;\r\n  } else if (test < -0.499995 * unit) { //TODO: Use glmatrix.EPSILON\r\n    // singularity at the south pole\r\n    out[0] = -Math.PI / 2;\r\n    out[1] = 2 * Math.atan2(y, x);\r\n    out[2] = 0;\r\n  } else {\r\n    out[0] = Math.asin(2 * (x * z - w * y));\r\n    out[1] = Math.atan2(2 * (x * w + y * z), 1 - 2 * (z2 + w2));\r\n    out[2] = Math.atan2(2 * (x * y + z * w), 1 - 2 * (y2 + z2));\r\n  }\r\n  // TODO: Return them as degrees and not as radians\r\n  \r\n  out.forEach((val, i) => {\r\n    out[i] = (val/Math.PI*180)\r\n  })\r\n  return out;\r\n}\r\n\r\nexport {\r\n  Transform\r\n}\r\n","export default \"attribute vec3 aVertexPosition;\\r\\nattribute vec3 aFrontColor;\\r\\nattribute vec3 aNormal;\\r\\n\\r\\nuniform mat4 uModelMatrix;\\r\\nuniform mat4 uMVMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\nuniform mat4 uinvTModelMatrix;\\r\\n\\r\\nstruct Light {\\r\\n    bool enabled;\\r\\n    vec3 position;\\r\\n    vec3 la; // Ambient\\r\\n    vec3 ld; // Diffuse\\r\\n    vec3 ls; // Specular\\r\\n    // float gloss;\\r\\n};\\r\\n\\r\\nuniform float gloss;\\r\\nuniform Light lights[4];\\r\\nuniform vec3 uCamPos;\\r\\n\\r\\nvec3 normal;\\r\\nvec3 pos;\\r\\nvec3 viewDir;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\n\\r\\nvoid shading() {\\r\\n    vec3 light_color = vec3(0);\\r\\n    vec3 spec_color = vec3(0);\\r\\n    fragcolor = vec3(0);\\r\\n    for(int i = 0; i < 4; ++i){\\r\\n        if(!lights[i].enabled){\\r\\n            break;\\r\\n        }\\r\\n        vec3 lightDir = normalize(lights[i].position - pos);\\r\\n\\r\\n        float dif = dot(normal, lightDir);\\r\\n        light_color += lights[i].la + dif * lights[i].ld;\\r\\n        \\r\\n        vec3 halfDir = normalize(viewDir + lightDir);\\r\\n        float spec = pow(max(dot(normal, halfDir), 0.), gloss);\\r\\n        spec_color += lights[i].ls * spec;\\r\\n    }\\r\\n    fragcolor = light_color * aFrontColor + spec_color;\\r\\n}\\r\\nvoid main(void) {\\r\\n    pos = (uModelMatrix * vec4(aVertexPosition, 1)).xyz;\\r\\n    normal = normalize((uinvTModelMatrix * vec4(aNormal, 0.0)).xyz);\\r\\n    viewDir = normalize(uCamPos - pos);\\r\\n    shading();\\r\\n    gl_Position = uPMatrix * uMVMatrix * vec4(pos, 1.0);\\r\\n}\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ObjectComponent.vue?vue&type=style&index=0&id=a96d9380&lang=css\"","module.exports = __webpack_public_path__ + \"img/debug.1151d187.png\";","export default \"attribute vec3 aVertexPosition;\\r\\nattribute vec3 aFrontColor;\\r\\nattribute vec3 aNormal;\\r\\nattribute vec2 aUV;\\r\\n\\r\\nuniform mat4 uModelMatrix;\\r\\nuniform mat4 uMVMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\nuniform mat4 uinvTMVMatrix;\\r\\nuniform mat4 uinvTModelMatrix;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\nvarying vec2 uv;\\r\\n\\r\\nvoid main(void) {\\r\\n    fragcolor = aFrontColor;\\r\\n    uv = aUV;\\r\\n    // pos = aVertexPosition;\\r\\n    pos = (uModelMatrix * vec4(aVertexPosition, 1)).xyz;\\r\\n    // normal = normalize(aNormal);\\r\\n    vNormal = ((uinvTModelMatrix * vec4(aNormal, 0.0)).xyz);\\r\\n\\r\\n    gl_Position = uPMatrix * uMVMatrix * vec4(pos, 1.0);\\r\\n}\"","module.exports = \"data:image/png;base64,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AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAM77I9BVCAEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADwAMRmaP3VmyE/AAAAAElFTkSuQmCC\"","import { mat4, vec3, quat } from 'gl-matrix'\r\nimport { iPhongLight, PhongLight } from './light'\r\ndeclare let gl: WebGLRenderingContext\r\n\r\nclass LightUniforms {\r\n    enabled: WebGLUniformLocation;\r\n    position: WebGLUniformLocation;\r\n    la: WebGLUniformLocation;\r\n    ld: WebGLUniformLocation;\r\n    ls: WebGLUniformLocation;\r\n    // gloss: WebGLUniformLocation;\r\n\r\n    constructor (idx: number, shaderProgram: WebGLProgram) {\r\n      this.enabled = gl.getUniformLocation(shaderProgram, `lights[${idx}].enabled`)\r\n      this.position = gl.getUniformLocation(shaderProgram, `lights[${idx}].position`)\r\n      this.la = gl.getUniformLocation(shaderProgram, `lights[${idx}].la`)\r\n      this.ld = gl.getUniformLocation(shaderProgram, `lights[${idx}].ld`)\r\n      this.ls = gl.getUniformLocation(shaderProgram, `lights[${idx}].ls`)\r\n      // this.gloss = gl.getUniformLocation(shaderProgram, `lights[${idx}].gloss`)\r\n    }\r\n}\r\n\r\nclass TextureUniforms {\r\n  enabled: WebGLUniformLocation;\r\n  texture: WebGLUniformLocation\r\n\r\n  constructor (name: string, shaderProgram: WebGLProgram) {\r\n    this.enabled = gl.getUniformLocation(shaderProgram, `${name}_enabled`);\r\n    this.texture = gl.getUniformLocation(shaderProgram, name);\r\n  }\r\n}\r\n\r\nclass BasicShader {\r\n    name: string;\r\n    shaderProgram: WebGLProgram;\r\n\r\n    vertexPositionAttribute: GLint;\r\n    vertexFrontColorAttribute: GLint;\r\n    vertexNormalAttribute?: GLint;\r\n    vertexUVAttribute? : GLint;\r\n\r\n    modelMatrixUniform?: WebGLUniformLocation;\r\n    invT_modelMatrixUniform?: WebGLUniformLocation;\r\n    mvMatrixUniform?: WebGLUniformLocation;\r\n    invT_mvMatrixUniform?: WebGLUniformLocation;\r\n    pMatrixUniform?: WebGLUniformLocation;\r\n\r\n    lightUniforms?: LightUniforms[] = [];\r\n    glossUniform?: WebGLUniformLocation;\r\n    camPosUniform?: WebGLUniformLocation;\r\n    textureUniform?: TextureUniforms;\r\n\r\n    is_loaded: boolean = false;\r\n\r\n    constructor (shader_name: string) {\r\n      this.name = shader_name;\r\n      this.getShader(shader_name)\r\n      this.initShaders()\r\n    }\r\n\r\n    getShader (name: string): void {\r\n      const vert_shader = gl.createShader(gl.VERTEX_SHADER)\r\n      // console.log(require('../goraud.vert'))\r\n      let shader_src = require(`../shaders/${name}.vert`).default\r\n      gl.shaderSource(vert_shader, shader_src)\r\n      gl.compileShader(vert_shader)\r\n\r\n      const frag_shader = gl.createShader(gl.FRAGMENT_SHADER)\r\n      shader_src = require(`../shaders/${name}.frag`).default\r\n      gl.shaderSource(frag_shader, shader_src)\r\n      gl.compileShader(frag_shader)\r\n\r\n      if (!gl.getShaderParameter(vert_shader, gl.COMPILE_STATUS)) {\r\n        alert(gl.getShaderInfoLog(vert_shader))\r\n        return null\r\n      } else if (!gl.getShaderParameter(frag_shader, gl.COMPILE_STATUS)) {\r\n        alert(gl.getShaderInfoLog(frag_shader))\r\n        return null\r\n      }\r\n\r\n      this.shaderProgram = gl.createProgram()\r\n      gl.attachShader(this.shaderProgram, vert_shader)\r\n      gl.attachShader(this.shaderProgram, frag_shader)\r\n      gl.linkProgram(this.shaderProgram)\r\n      if (!gl.getProgramParameter(this.shaderProgram, gl.LINK_STATUS)) {\r\n        alert('Could not initialise shaders')\r\n      }\r\n    }\r\n\r\n    initShaders (): void {\r\n      gl.useProgram(this.shaderProgram)\r\n\r\n      this.vertexPositionAttribute = gl.getAttribLocation(this.shaderProgram, 'aVertexPosition')\r\n      gl.enableVertexAttribArray(this.vertexPositionAttribute)\r\n      this.vertexFrontColorAttribute = gl.getAttribLocation(this.shaderProgram, 'aFrontColor')\r\n      gl.enableVertexAttribArray(this.vertexFrontColorAttribute)\r\n\r\n      this.vertexNormalAttribute = gl.getAttribLocation(this.shaderProgram, 'aNormal')\r\n      if(this.vertexNormalAttribute >= 0)\r\n        gl.enableVertexAttribArray(this.vertexNormalAttribute)\r\n      \r\n      this.vertexUVAttribute = gl.getAttribLocation(this.shaderProgram, 'aUV')\r\n      if(this.vertexUVAttribute >= 0){\r\n        // enable attribute in modelObject class\r\n        this.textureUniform = new TextureUniforms('tex', this.shaderProgram);\r\n      }\r\n\r\n      this.pMatrixUniform = gl.getUniformLocation(this.shaderProgram, 'uPMatrix')\r\n      this.mvMatrixUniform = gl.getUniformLocation(this.shaderProgram, 'uMVMatrix')\r\n      this.invT_mvMatrixUniform = gl.getUniformLocation(this.shaderProgram, 'uinvTMVMatrix')\r\n      this.modelMatrixUniform = gl.getUniformLocation(this.shaderProgram, 'uModelMatrix')\r\n      this.invT_modelMatrixUniform = gl.getUniformLocation(this.shaderProgram, 'uinvTModelMatrix')\r\n\r\n      for (let i = 0; i < 4; i++) { this.lightUniforms.push(new LightUniforms(i, this.shaderProgram)) }\r\n      this.glossUniform = gl.getUniformLocation(this.shaderProgram, 'gloss')\r\n      this.camPosUniform = gl.getUniformLocation(this.shaderProgram, 'uCamPos')\r\n      \r\n      this.is_loaded = true;\r\n    }\r\n\r\n    setCamPosUniform (camPos: vec3): void {\r\n      gl.useProgram(this.shaderProgram)\r\n      gl.uniform3fv(this.camPosUniform, camPos)\r\n    }\r\n\r\n    setWorldMatrixUniforms (mvp: {pMatrix: mat4, mvMatrix: mat4, invT_mvMatrix: mat4}): void {\r\n      gl.useProgram(this.shaderProgram)\r\n      gl.uniformMatrix4fv(this.pMatrixUniform, false, mvp.pMatrix)\r\n      gl.uniformMatrix4fv(this.mvMatrixUniform, false, mvp.mvMatrix)\r\n      gl.uniformMatrix4fv(this.invT_mvMatrixUniform, false, mvp.invT_mvMatrix)\r\n    }\r\n\r\n    setLightUniforms (lights: iPhongLight[]): void {\r\n      gl.useProgram(this.shaderProgram)\r\n      lights.forEach((light, idx) => {\r\n        gl.uniform1i(this.lightUniforms[idx].enabled, 1)\r\n        gl.uniform3fv(this.lightUniforms[idx].la, light.la)\r\n        gl.uniform3fv(this.lightUniforms[idx].ld, light.ld)\r\n        gl.uniform3fv(this.lightUniforms[idx].ls, light.ls)\r\n        // gl.uniform1f(this.lightUniforms[idx].gloss, light.gloss)\r\n        gl.uniform3fv(this.lightUniforms[idx].position, light.position)\r\n      })\r\n    }\r\n}\r\n\r\nexport {\r\n  BasicShader\r\n}\r\n","var map = {\n\t\"./cel.vert\": \"fc65\",\n\t\"./custom.vert\": \"268f\",\n\t\"./flat.vert\": \"615c\",\n\t\"./goraud.vert\": \"148c\",\n\t\"./phong.vert\": \"00f1\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"31ff\";","export default \"precision highp float;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\n\\r\\nvoid main(void) {\\r\\n    gl_FragColor.rgb = fragcolor;\\r\\n    gl_FragColor.w = 1.;\\r\\n}\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nexports = ___CSS_LOADER_API_IMPORT___(false);\n// Module\nexports.push([module.id, \".object-component{position:inherit;font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;text-align:left;font-size:24px;line-break:strict;line-height:0}.array{display:inline-block;padding:0 5px}.input{font-size:18px;width:60px}\", \"\"]);\n// Exports\nmodule.exports = exports;\n","var map = {\n\t\"./Car_road.json\": \"5ecf\",\n\t\"./Church_s.json\": \"cf80\",\n\t\"./Csie.json\": \"1370\",\n\t\"./Easter.json\": \"bc8b\",\n\t\"./Fighter.json\": \"78dc\",\n\t\"./Kangaroo.json\": \"a459\",\n\t\"./Longteap.json\": \"35cd\",\n\t\"./Mercedes.json\": \"040a\",\n\t\"./Mig27.json\": \"8798\",\n\t\"./Patchair.json\": \"cbfc\",\n\t\"./Plant.json\": \"d941\",\n\t\"./Teapot.json\": \"56d8\",\n\t\"./Tomcat.json\": \"1aab\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"511d\";","export default \"attribute vec3 aVertexPosition;\\r\\nattribute vec3 aFrontColor;\\r\\n\\r\\nuniform mat4 uModelMatrix;\\r\\nuniform mat4 uMVMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 pos;\\r\\n\\r\\n\\r\\nvoid main(void) {\\r\\n    pos = (uModelMatrix * vec4(aVertexPosition, 1.0)).xyz;\\r\\n    fragcolor = aFrontColor;\\r\\n    gl_Position = uPMatrix * uMVMatrix * vec4(pos, 1.0);\\r\\n}\"","import { mat4, vec3, quat } from 'gl-matrix'\r\nimport { BasicShader } from '../ts/shaderProgram'\r\nimport { Transform } from './transform'\r\ndeclare let gl: WebGLRenderingContext\r\n\r\ninterface iPhongLight {\r\n    position: vec3;\r\n    la: vec3;\r\n    ld: vec3;\r\n    ls: vec3;\r\n}\r\n\r\nclass PhongLight extends Transform implements iPhongLight {\r\n    la: vec3 = vec3.fromValues(0.5, 0.5, 0.5);\r\n    ld: vec3 = vec3.fromValues(0.5, 0.5, 0.5);\r\n    ls: vec3 = vec3.fromValues(0.9, 0.9, 0.9);\r\n\r\n    constructor () { super() }\r\n\r\n    setAmbient (x: number, y: number, z: number): PhongLight { this.la = vec3.fromValues(x, y, z); return this }\r\n    setDiffuse (x: number, y: number, z: number): PhongLight { this.ld = vec3.fromValues(x, y, z); return this }\r\n    setSpecular (x: number, y: number, z: number): PhongLight { this.ls = vec3.fromValues(x, y, z); return this }\r\n}\r\n\r\nexport {\r\n  iPhongLight,\r\n  PhongLight\r\n}\r\n","var map = {\n\t\"./debug.png\": \"1b8a\",\n\t\"./debug_white.png\": \"9d77\",\n\t\"./debug_yellow.png\": \"29e0\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"9791\";","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ObjectComponent.vue?vue&type=style&index=0&id=a96d9380&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"454c9dce\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAANlBMVEX///+mpqbl5eWysrLY2NjKysrMzMysrKz09PTe3t76+vqtra3AwMDp6enk5OTv7+/S0tK6uroYlhcUAAANGElEQVR42uzabZObIBQF4HMKUuD6+v//bA0BF9PptKaZlpB7PohotzuXPKsGBDUfHQXw4VEAHx4F8OFB2vzHfMP/jcHFdFa/AsDFdFa/AsDFdFa/AsDFdFa/AsDFdFa/AsDFdFZ/DcAyxcaq46Zy0pDjDMDzyN5bXPkJxxI7khZ7NjLcf0P+WYAlvpEBUAA/AaDxVYcBe+KWPTwACEyR5QTAktsNB8kIHIcVwJsAoKs7cvrzDjWAr31zAhBJxvRfDKfPXAE0D8ACM8lYOotJTWRqBnKr/iWwkpvHJORxgU/tQM55mw/GkVzvnbYGQAE8AsBATrmTGpcu5hvuDk4A8ke8kvYEIJADIinxOLiQowJ4CwB7E47ORI5lCzwCGMmpdOvzUSiYSVcdJI0C+BQA6SriyFkBvDuAvRmeADCTq1CgAN4QwEBOp4fAJwBAKOmpT58B3g7A8S0gR+IzABx5P/f4LSBnamUAFMDv5gECngEwkTR4mPxTAO8BwMSqM+MpABByPQOwUABvAcDG4zNeSfskgDFPItdrAfoM0DwAC9SdhdxeASC1CuD9AEDIRQGc81EAVtIqgHM+CsBMbvj9WoAC6BVAugf80WqgAugTgCPX0/sA9cn6fYDfA9A3gt4RwEya+o2g08nqjSAF0CmAKORUvxNYn6zeCVQAHQD4o/Q2AApAAVxLZ/UrAFxMZ/UrAFxMZ/VXALbv/zRTGwOgAA4A6/BP49sYAAWgt4Br6ax+BYCL6ax+BYCL6az+5wFMbsFDVntvQ2ptQHS3LGlrYW9NSI1tZgAUwJMAZmHAOSPzaDpOOxA6eJo9szEiZoSRvWNTI0MrA6AAngUQMoAYAZ/2VncAGPZNApCRGJc3ubESGxkABfAkgOPDteJDXg38AiAxSgJgvY9fALz3CqA3ABhHWXEGYMRaMTcAe8wBgHt8ugXQtjIACuCvASwy4hGAM5tLANYQ5gPAGEIA9lMyNDMACuCvAUzcfgKwkIv59TOAFd/KACiAvwawDcY9AoBzKFeA4OsrwHLbj+JaGQAF8LcAVvGB8yOAPeUZgKF+BnBp34m+EdRG/c8DgMfX18BYdktbTtxSjsRbJ9739RbQSP06FYyL6ax+BYCL6az+lwEIbk+EdyGtE9iIOvF2NpQFhOBCMwOgAF4EwIkx5j7/h0AjG+qkRQGbFxAcjX4LaKX+1wFIIxmtccA2YuGcHxRjTADCsYAQxepUcI8Axm3Ksz0xYuats0jwYhOAwbgCwQOrAmik/tcB4DBKmfKBN0OeJBjHfAtw4o4rwSS6FtBI/S8DsMzwDAXAZvLMgMkzPsHDmQLA61pAM/W/DsBSARikzBJJAYAvAN6M7QyAAngRgFXsKmW1ny4Ef38yGLY7hCEYlwEMYkNoZQB+sHPuKAzDUAAjtIPzofc/bmkSH0DQIQht+aBBoCH4xS6APwWwHcv+vj8CX/Mkgc+yjutngXVfjnEFMNodbAxgDgS27V70P2/G+eC+nAOE39tmAQ/xbymYAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8vO2VsAgAQAyHI77/zQzawNV5vIcgVAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+G8Ac3pvb6wEoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPP/7JSxCQAADIOG/v9zoR+4WrM7CJICoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzvwCmvV0PQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+y04ZmwAAxEAI8vvv/JANbI3XWwhyBUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPkXAAVk/gVAAZl/AVBA5l8AFJD5FwAFZP4FQAGZfwFQQOZfABSQ+RcABWT+BUABmX8BUEDmXwAUkPlvAHN4b26vB6CAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8C4ACMv8CoIDMvwAoIPMvAArI/AuAAjL/AqCAzL8AKCDzLwAKyPwLgAIy/wKggMy/ACgg8y8ACsj8f7t0TAIAAAAgrH9rM/iKATyEDcAGsf8B2CD2PwAbxP4HYIPY/wBsEPsfgA1i/wOwQex/ADaI/Q/ABrH/Adgg9j8AG8T+B2CD2P8AbBD7H4ANYv8DsEHsfwA2iP0PwAax/wHYIPY/ABvE/gdgg9j/AGwQ+x+ADWL/A7BB7H8ANoj9D8AGsf8B2CD2PwAbxP4HYIPY/wBsEPsfgA1i/wOwQex/ADaI/Q/ABrH/Adgg9j8AG8T+B2CD2D+FKFIm5JG/igAAAABJRU5ErkJggg==\"","export default \"precision highp float;\\r\\n\\r\\n// varying vec4 fragcolor;\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\n\\r\\nstruct Light {\\r\\n    bool enabled;\\r\\n    vec3 position;\\r\\n    vec3 la; // Ambient\\r\\n    vec3 ld; // Diffuse\\r\\n    vec3 ls; // Specular\\r\\n    // float gloss;\\r\\n};\\r\\n\\r\\nuniform Light lights[4];\\r\\nuniform vec3 uCamPos;\\r\\nuniform float gloss;\\r\\n\\r\\nvoid main(void) {\\r\\n    gl_FragColor = vec4(0, 0, 0, 1);\\r\\n    vec3 color = fragcolor;\\r\\n    // vec3 camPos = uCamPos;\\r\\n    vec3 normal = normalize(vNormal);\\r\\n    vec3 viewDir = normalize(uCamPos - pos);\\r\\n    float rim = dot(normal, viewDir);\\r\\n    if(rim < 0.2){\\r\\n        return;\\r\\n    }else if(rim < .4){\\r\\n        gl_FragColor.rgb = vec3(1.- .2*smoothstep(.2, .4, rim));\\r\\n        return;\\r\\n    }\\r\\n    // vec3 color = vec3(1, 0 ,0);\\r\\n    vec3 light_color = vec3(0);\\r\\n    vec3 spec_color = vec3(0);\\r\\n    for(int i = 0; i < 4; ++i){\\r\\n        if(!lights[i].enabled){\\r\\n            break;\\r\\n        }\\r\\n        // vec3 lightPos = (invModelMatrix * vec4(lights[i].position, 1)).xyz;\\r\\n        vec3 lightDir = normalize(lights[i].position - pos);\\r\\n\\r\\n        float dif = dot(normal, lightDir);\\r\\n        if(dif > 0.6) dif = .8;\\r\\n        else dif = dif*0.1;\\r\\n        light_color += lights[i].la + dif * lights[i].ld;\\r\\n        \\r\\n        vec3 halfDir = normalize(viewDir + lightDir);\\r\\n        float spec = pow(max(dot(normal, halfDir), 0.), gloss);\\r\\n        spec = step(.4, spec);\\r\\n        // spec = smoothstep(.2, 1., spec);\\r\\n        spec_color += lights[i].ls * spec;\\r\\n    }\\r\\n    gl_FragColor.rgb = light_color * color + spec_color;\\r\\n}\"","export default \"#extension GL_OES_standard_derivatives : enable\\r\\nprecision highp float;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\n\\r\\nstruct Light {\\r\\n    bool enabled;\\r\\n    vec3 position;\\r\\n    vec3 la; // Ambient\\r\\n    vec3 ld; // Diffuse\\r\\n    vec3 ls; // Specular\\r\\n    // float gloss;\\r\\n};\\r\\n\\r\\nuniform Light lights[4];\\r\\nuniform vec3 uCamPos;\\r\\nuniform float gloss;\\r\\n\\r\\nvoid main(void) {\\r\\n    // Normal\\r\\n    vec3 dx = dFdx(pos);\\r\\n    vec3 dy = dFdy(pos);\\r\\n    vec3 normal = normalize(cross(dx, dy));\\r\\n    vec3 viewDir = normalize(uCamPos - pos);\\r\\n\\r\\n    // Color\\r\\n    gl_FragColor = vec4(0, 0, 0, 1);\\r\\n    vec3 color = fragcolor.rgb;\\r\\n    vec3 light_color = vec3(0);\\r\\n    vec3 spec_color = vec3(0);\\r\\n    for(int i = 0; i < 4; ++i){\\r\\n        if(!lights[i].enabled){\\r\\n            break;\\r\\n        }\\r\\n        // vec3 lightPos = (invModelMatrix * vec4(lights[i].position, 1)).xyz;\\r\\n        vec3 lightDir = normalize(lights[i].position - pos);\\r\\n\\r\\n        float dif = dot(normal, lightDir);\\r\\n        // if(dif > 0.5) dif = .7;\\r\\n        // else dif = .2;\\r\\n        light_color += lights[i].la + dif * lights[i].ld;\\r\\n        \\r\\n        vec3 halfDir = normalize(viewDir + lightDir);\\r\\n        float spec = pow(max(dot(normal, halfDir), 0.), gloss);\\r\\n        // spec = step(.75, spec);\\r\\n        // spec = smoothstep(.2, 1., spec);\\r\\n        spec_color += lights[i].ls * spec;\\r\\n    }\\r\\n    gl_FragColor.rgb = light_color * color + spec_color;\\r\\n}\"","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SceneObjectList.vue?vue&type=style&index=0&id=d766ded8&lang=css\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"72f929e9\", content, true, {\"sourceMap\":false,\"shadowMode\":false});","export default \"precision highp float;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\nvarying vec2 uv;\\r\\n\\r\\nuniform sampler2D tex;\\r\\nuniform bool tex_enabled;\\r\\n\\r\\nstruct Light {\\r\\n    bool enabled;\\r\\n    vec3 position;\\r\\n    vec3 la; // Ambient\\r\\n    vec3 ld; // Diffuse\\r\\n    vec3 ls; // Specular\\r\\n    // float gloss;\\r\\n};\\r\\n\\r\\n\\r\\nuniform float gloss;\\r\\nuniform Light lights[4];\\r\\nuniform vec3 uCamPos;\\r\\n\\r\\nvoid main(void) {\\r\\n    gl_FragColor = vec4(0, 0, 0, 1);\\r\\n    vec3 color;\\r\\n    if(tex_enabled){\\r\\n        vec2 uv_ = uv;\\r\\n        // uv_ = uv_*0.2;\\r\\n        uv_.y *= -1.;\\r\\n        color = texture2D(tex, uv_).rgb;\\r\\n        // gl_FragColor = texture2D(tex, uv_);\\r\\n        // return;\\r\\n    }\\r\\n    else{\\r\\n        color = fragcolor;\\r\\n    }\\r\\n    // vec3 camPos = uCamPos;\\r\\n    vec3 normal = normalize(vNormal);\\r\\n    vec3 viewDir = normalize(uCamPos - pos);\\r\\n    // float rim = dot(normal, viewDir);\\r\\n    // if(rim < 0.2){\\r\\n    //     return;\\r\\n    // }else if(rim < .4){\\r\\n    //     gl_FragColor.rgb = vec3(1.- .2*smoothstep(.2, .4, rim));\\r\\n    //     return;\\r\\n    // }\\r\\n    // vec3 color = vec3(1, 0 ,0);\\r\\n    vec3 light_color = vec3(0);\\r\\n    vec3 spec_color = vec3(0);\\r\\n    for(int i = 0; i < 4; ++i){\\r\\n        if(!lights[i].enabled){\\r\\n            break;\\r\\n        }\\r\\n        // vec3 lightPos = (invModelMatrix * vec4(lights[i].position, 1)).xyz;\\r\\n        vec3 lightDir = normalize(lights[i].position - pos);\\r\\n\\r\\n        float dif = dot(normal, lightDir);\\r\\n        // if(dif > 0.5) dif = .7;\\r\\n        // else dif = .2;\\r\\n        light_color += lights[i].la + dif * lights[i].ld;\\r\\n        \\r\\n        vec3 halfDir = normalize(viewDir + lightDir);\\r\\n        float spec = pow(max(dot(normal, halfDir), 0.), gloss);\\r\\n        // spec = step(.75, spec);\\r\\n        // spec = smoothstep(.2, 1., spec);\\r\\n        spec_color += lights[i].ls * spec;\\r\\n    }\\r\\n    gl_FragColor.rgb = light_color * color + spec_color;\\r\\n}\"","import { Mode } from 'fs';\r\nimport { mat4, vec3, quat } from 'gl-matrix'\r\nimport { BasicShader } from './shaderProgram'\r\nimport { Transform } from './transform'\r\ndeclare let gl: WebGLRenderingContext\r\n\r\nclass CustomWebGLBuffer extends WebGLBuffer {\r\n    itemSize: number;\r\n    numItems: number;\r\n}\r\n\r\ninterface ObjectAttribute {\r\n  name: string,\r\n  object: ModelObject\r\n}\r\n\r\ninterface VertexAttributeBuffers {\r\n    vertexPositions?: CustomWebGLBuffer,\r\n    vertexNormals?: CustomWebGLBuffer,\r\n    vertexFrontcolors?: CustomWebGLBuffer,\r\n    vertexBackcolors?: CustomWebGLBuffer,\r\n    vertexTextureCoords?: CustomWebGLBuffer\r\n}\r\n\r\ninterface VertexAttributes {\r\n    vertexPositions?: Float32Array,\r\n    vertexNormals?: Float32Array,\r\n    vertexFrontcolors?: Float32Array,\r\n    vertexBackcolors?: Float32Array,\r\n    vertexTextureCoords?: Float32Array,\r\n}\r\n\r\ninterface WebGLTexture {\r\n  name: string,\r\n  texture: HTMLImageElement,\r\n  buffer: WebGLBuffer,\r\n}\r\n\r\nclass ModelObject extends Transform {\r\n    position: vec3 = vec3.zero(vec3.create());\r\n    rotation: quat = quat.create();\r\n    scale: vec3 = vec3.fromValues(1, 1, 1);\r\n    shear: vec3 = vec3.zero(vec3.create());\r\n\r\n    gloss: number = 16;\r\n\r\n    textures: WebGLTexture;\r\n    \r\n    isLoaded = false;\r\n\r\n    vertexAttributes: VertexAttributes;\r\n    vertexBuffers: VertexAttributeBuffers;\r\n    shaderProgram: BasicShader;\r\n\r\n    constructor (\r\n      shader: BasicShader,\r\n      model_name?: string,\r\n      texture_name?: string\r\n    ) {\r\n      super()\r\n      this.shaderProgram = shader\r\n      if (model_name !== undefined) { this.loadModel(model_name) }\r\n      if (texture_name !== undefined) { this.loadTexture(texture_name) }\r\n    }\r\n\r\n    loadModel (name: string): void {\r\n      // const request = new XMLHttpRequest()\r\n      // console.log(require(`../assets/model/${name}.json`))\r\n      // // request.open('GET', `./src/assets/model/${name}.json`)\r\n      // // console.log(`./src/assets/model/${name}.json`)\r\n      // request.onreadystatechange = () => {\r\n      //   if (request.readyState === 4) {\r\n      //     console.log(request.responseText);\r\n      //     this.vertexAttributes = JSON.parse(request.responseText) as VertexAttributes\r\n      //     // console.log(this.vertexAttributes);\r\n      //     this.handleModelData()\r\n      //   }\r\n      // }\r\n      // request.send()\r\n      // console.log(require(`../assets/model/${name}.json`))\r\n      this.vertexAttributes = require(`../assets/model/${name}.json`) as VertexAttributes;\r\n      this.handleModelData();\r\n    }\r\n\r\n    loadTexture(name: string): void{\r\n      var image = new Image();\r\n      image.onload = () => {\r\n        this.textures.texture = image;\r\n        console.log('Image loaded!');\r\n      }\r\n      image.src = `${require(`../assets/texture/${name}`)}`;\r\n      this.textures = {\r\n        name: name,\r\n        texture: undefined,\r\n        buffer: gl.createTexture()\r\n      }\r\n    }\r\n\r\n    handleModelData (): void {\r\n      // console.log(this.vertexAttributes.vertexPositions);\r\n      this.vertexBuffers = {}\r\n      for (const key in this.vertexAttributes) {\r\n        if (key !== undefined && key != 'vertexTextureCoords') {\r\n          let buf = gl.createBuffer() as CustomWebGLBuffer\r\n          gl.bindBuffer(gl.ARRAY_BUFFER, buf)\r\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(<Float32Array> this.vertexAttributes[key]), gl.STATIC_DRAW)\r\n          buf.itemSize = 3\r\n          buf.numItems = this.vertexAttributes[key].length / 3\r\n          this.vertexBuffers[key] = buf\r\n        }else if(key == 'vertexTextureCoords'){\r\n          let buf = gl.createBuffer() as CustomWebGLBuffer\r\n          gl.bindBuffer(gl.ARRAY_BUFFER, buf)\r\n          gl.bufferData(gl.ARRAY_BUFFER, new Float32Array(<Float32Array> this.vertexAttributes[key]), gl.STATIC_DRAW)\r\n          buf.itemSize = 2\r\n          buf.numItems = this.vertexAttributes[key].length / 2\r\n          this.vertexBuffers[key] = buf\r\n        }\r\n      }\r\n      this.isLoaded = true\r\n    }\r\n\r\n    draw (): void {\r\n      if (!this.isLoaded && !this.shaderProgram.is_loaded) { console.log('Model not loaded, skip drawing'); return; }\r\n      gl.useProgram(this.shaderProgram.shaderProgram)\r\n      this.setUniform()\r\n\r\n      // Setup teapot position data\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffers.vertexPositions)\r\n      gl.vertexAttribPointer(this.shaderProgram.vertexPositionAttribute,\r\n        this.vertexBuffers.vertexPositions.itemSize,\r\n        gl.FLOAT,\r\n        false,\r\n        0,\r\n        0)\r\n\r\n      // Setup teapot front color data\r\n      gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffers.vertexFrontcolors)\r\n      gl.vertexAttribPointer(this.shaderProgram.vertexFrontColorAttribute,\r\n        this.vertexBuffers.vertexFrontcolors.itemSize,\r\n        gl.FLOAT,\r\n        false,\r\n        0,\r\n        0)\r\n\r\n      // Setup teapot normal data\r\n      if(this.shaderProgram.vertexNormalAttribute >= 0){\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffers.vertexNormals)\r\n        gl.vertexAttribPointer(this.shaderProgram.vertexNormalAttribute,\r\n          this.vertexBuffers.vertexNormals.itemSize,\r\n          gl.FLOAT,\r\n          false,\r\n          0,\r\n          0)\r\n      }\r\n      if(this.shaderProgram.vertexUVAttribute >= 0 && this.vertexBuffers.vertexTextureCoords !== undefined){\r\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.vertexBuffers.vertexTextureCoords)\r\n        gl.vertexAttribPointer(this.shaderProgram.vertexUVAttribute,\r\n          this.vertexBuffers.vertexTextureCoords.itemSize,\r\n          gl.FLOAT,\r\n          false,\r\n          0,\r\n          0)\r\n      }\r\n      gl.drawArrays(gl.TRIANGLES, 0, this.vertexBuffers.vertexPositions.numItems)\r\n    }\r\n\r\n    setUniform (): void {\r\n      let mat = mat4.create()\r\n      mat4.scale(mat, mat, this.scale)\r\n      \r\n      let shear_mat = mat4.fromValues(\r\n        1, this.shear[2], 0, 0,\r\n        this.shear[0], 1, 0, 0,\r\n        this.shear[1], 0, 1, 0,\r\n        0, 0, 0, 1\r\n      )\r\n\r\n      mat4.mul(mat, mat4.fromQuat(mat4.create(), this.rotation), mat)\r\n      mat4.mul(mat, shear_mat, mat)\r\n      mat4.mul(mat, mat4.fromTranslation(mat4.create(), this.position), mat)\r\n      \r\n      gl.uniformMatrix4fv(this.shaderProgram.modelMatrixUniform, false, mat)\r\n\r\n      mat4.transpose(mat, mat4.invert(mat, mat))\r\n      gl.uniformMatrix4fv(this.shaderProgram.invT_modelMatrixUniform, false, mat)\r\n\r\n      gl.uniform1f(this.shaderProgram.glossUniform, this.gloss);\r\n\r\n\r\n      if(this.shaderProgram.vertexUVAttribute >= 0) {\r\n        if(this.textures !== undefined){\r\n          gl.enableVertexAttribArray(this.shaderProgram.vertexUVAttribute)\r\n          gl.uniform1i(this.shaderProgram.textureUniform.enabled, 1);\r\n          gl.uniform1i(this.shaderProgram.textureUniform.texture, 0);\r\n          gl.activeTexture(gl.TEXTURE0);\r\n          gl.bindTexture(gl.TEXTURE_2D, this.textures.buffer);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_S, gl.REPEAT);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_WRAP_T, gl.REPEAT);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MIN_FILTER, gl.LINEAR);\r\n          gl.texParameteri(gl.TEXTURE_2D, gl.TEXTURE_MAG_FILTER, gl.LINEAR);  \r\n          if(this.textures.texture !== undefined)\r\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, gl.RGBA, gl.UNSIGNED_BYTE, this.textures.texture);\r\n          else\r\n            gl.texImage2D(gl.TEXTURE_2D, 0, gl.RGBA, 1, 1, 0, gl.RGBA, gl.UNSIGNED_BYTE, new Uint8Array([0, 0, 255, 255]));\r\n        }\r\n        else{\r\n          gl.disableVertexAttribArray(this.shaderProgram.vertexUVAttribute)\r\n          gl.uniform1i(this.shaderProgram.textureUniform.enabled, 0);\r\n        }\r\n      } \r\n    }\r\n\r\n    setScale (s: number):ModelObject { super.setScale(s); return this }\r\n    setScaleXYZ (x: number, y: number, z: number):ModelObject { super.setScaleXYZ(x, y, z); return this }\r\n\r\n    setPos (x: number, y: number, z: number): ModelObject { super.setPos(x, y, z); return this }\r\n    translate (x: number, y: number, z: number): ModelObject { super.translate(x, y, z); return this }\r\n\r\n    setRot (x: number, y: number, z: number): ModelObject { super.setRot(x, y, z); return this }\r\n    rotateX (r: number): ModelObject { super.rotateX(r); return this }\r\n    rotateY (r: number): ModelObject { super.rotateY(r); return this }\r\n    rotateZ (r: number): ModelObject { super.rotateZ(r); return this }\r\n    rotateAxis (r: number, axis: vec3): ModelObject { super.rotateAxis(r, axis); return this }\r\n\r\n    setGloss(gloss: number): ModelObject { this.gloss = gloss; return this; }\r\n}\r\n\r\nexport {\r\n  ModelObject,\r\n  ObjectAttribute\r\n}\r\n","/* https://github.com/toji/gl-matrix */\r\nimport { mat4, vec3, quat } from 'gl-matrix'\r\nimport './js/webgl-utils'\r\nimport { createApp } from 'vue'\r\nimport App from './App.vue'\r\nimport SceneObjectListComponent from './components/SceneObjectList.vue'\r\n\r\n/* Custom Module */\r\nimport { Transform } from './ts/transform'\r\nimport { ModelObject } from './ts/modelObject'\r\nimport { BasicShader } from './ts/shaderProgram'\r\nimport { Camera } from './ts/camera'\r\nimport { PhongLight } from './ts/light'\r\n// import { Vue } from 'vue-class-component'\r\n\r\nwindow.onload = () => webGLStart();\r\nwindow.onresize = () => setCanvasSize();\r\n\r\ndeclare global {\r\n    interface Window {\r\n        // from webgl-utils\r\n        requestAnimFrame: Function\r\n    }\r\n    var gl: WebGLRenderingContext\r\n    var elapsed_time: number\r\n\r\n    var scene_objects: { [name: string]: ModelObject };\r\n    var shader_programs: { [name: string]: BasicShader };\r\n    var lights: PhongLight[];\r\n    var camera: Camera;\r\n    var texture_list: string[];\r\n}\r\n\r\n\r\n// common variables\r\ndeclare var gl: WebGLRenderingContext;\r\ndeclare var elapsed_time: number;\r\ndeclare var scene_objects: { [name: string]: ModelObject };\r\ndeclare var shader_programs: { [name: string]: BasicShader };\r\ndeclare var lights: PhongLight[];\r\ndeclare var camera: Camera;\r\ndeclare var texture_list: string[];\r\n\r\nvar teapotAngle = 20;\r\nvar lastTime    = 0;\r\nvar canvas: HTMLCanvasElement = document.createElement(\"canvas\");\r\n\r\nfunction initGlobalVariables() {\r\n    global.lights = []\r\n    global.scene_objects = {}\r\n    global.shader_programs = {}\r\n    global.elapsed_time = .1;\r\n    global.camera = new Camera({width: canvas.width, height: canvas.height});\r\n    global.texture_list = [\r\n        'debug.png',\r\n        'debug_white.png',\r\n        'debug_yellow.png',\r\n    ]\r\n}\r\n\r\nfunction setCanvasSize() {\r\n    canvas.width = window.innerWidth;\r\n    canvas.height = window.innerHeight/2;\r\n    camera.viewportWidth = canvas.width;\r\n    camera.viewportHeight = canvas.height;\r\n}\r\n\r\nfunction webGLStart() {\r\n    canvas.id = \"ICG-canvas\"\r\n    canvas.width  = 1280;\r\n    canvas.height = 720;\r\n    canvas.style.backgroundColor = \"#0078D4\"\r\n    canvas.style.top = '0'\r\n    canvas.style.left = '0'\r\n    canvas.style.position = 'fixed'\r\n    initGL(canvas);\r\n    initGlobalVariables();\r\n    setCanvasSize();\r\n    \r\n    camera.setPos(0 , 0, 30);\r\n    \r\n    var l = new PhongLight().setDiffuse(.9, .2, .2);\r\n    l.setPos(-15, 0, 0);\r\n    lights.push(l);\r\n    l = new PhongLight().setAmbient(0, 0, 0).setDiffuse(.3, .3, .3).setSpecular(.1, .1, .1);\r\n    l.setPos(0, 50, 50);\r\n    lights.push(l);\r\n    l = new PhongLight().setAmbient(0, 0, 0).setDiffuse(.8, .8, .1).setSpecular(.1, .1, .1);\r\n    l.setPos(0, 50, -100);\r\n    lights.push(l); \r\n    \r\n    shader_programs[\"phong\"] = new BasicShader('phong');\r\n    shader_programs[\"goraud\"] = new BasicShader('goraud');\r\n    shader_programs[\"flat\"] = new BasicShader('flat');\r\n    shader_programs[\"cel\"] = new BasicShader('cel');\r\n    shader_programs[\"custom\"] = new BasicShader('custom');\r\n    scene_objects[\"easter\"] = new ModelObject(shader_programs[\"flat\"], 'Easter')\r\n        .setScale(10).setRot(-90, 0, 0).setPos(-15, 0, 0).setGloss(4);\r\n    scene_objects[\"easter2\"] = new ModelObject(shader_programs[\"phong\"], 'Easter')\r\n        .setScale(10).setRot(-90, -0, 0).setPos(15, 0, 0).setGloss(64);\r\n    scene_objects[\"teapot\"] = new ModelObject(\r\n        shader_programs[\"custom\"], 'Teapot', 'debug_yellow.png')\r\n        .setScale(0.5).setGloss(32);\r\n    // scene_objects[\"kangaroo\"] = new ModelObject(shader_programs[\"phong\"], 'Kangaroo').setScale(20).setRot(-90, 0, 0).setPos(20, 10, 0);\r\n\r\n    var vm = createApp(SceneObjectListComponent)\r\n    vm.mount('#app')\r\n    \r\n    // vm.data.pos = pos: scene_objects[\"teapot\"].position\r\n    // vm.$data = scene_objects[\"teapot\"].position;\r\n    \r\n    \r\n    gl.clearColor(0.5, 0.5, 0.5, 1.0);\r\n    gl.enable(gl.DEPTH_TEST);\r\n    \r\n    document.body.appendChild(canvas)\r\n    tick();\r\n}\r\n\r\n\r\nfunction initGL(canvas: HTMLCanvasElement) {\r\n    try {\r\n        global.gl = <WebGLRenderingContext> canvas.getContext(\"webgl\") || <WebGLRenderingContext> canvas.getContext(\"experimental-webgl\");\r\n        if(!gl.getExtension('OES_standard_derivatives')){\r\n            throw('OES std extension not supported!')\r\n        }\r\n    } \r\n    catch (e) {\r\n    }\r\n    if (!gl) {\r\n        alert(\"Could not initialise WebGL, sorry :-(\");\r\n    }\r\n}\r\n\r\nfunction degToRad(degrees) {\r\n    return degrees * Math.PI / 180;\r\n}\r\n\r\nfunction update() {\r\n    teapotAngle += degToRad(0.02) * elapsed_time;\r\n    scene_objects['teapot'].rotateY(degToRad(0.05) * elapsed_time); \r\n    // scene_objects['easter'].rotateZ(degToRad(0.05) * elapsed_time); \r\n    // scene_objects['kangaroo'].rotateZ(degToRad(0.01) * elapsed_time); \r\n    lights[0].setPos(30*Math.cos(teapotAngle), lights[0].position[1], 30*Math.sin(teapotAngle))\r\n    // scene_objects['teapot'].translate(0, 0, -.01 * elapsed_time);\r\n    // camera.rotateY(degToRad(0.05) * elapsed_time);\r\n}\r\n\r\nfunction draw() {\r\n    gl.viewport(0, 0, camera.viewportWidth, camera.viewportHeight);\r\n    gl.clear(gl.COLOR_BUFFER_BIT | gl.DEPTH_BUFFER_BIT);\r\n\r\n    camera.setMVP();\r\n    let world_mat = camera.getMVP();\r\n    Object.entries(shader_programs).forEach(\r\n        ([, prog]) => {\r\n            prog.setWorldMatrixUniforms(world_mat);\r\n            prog.setLightUniforms(lights);\r\n            prog.setCamPosUniform(camera.position);\r\n        }\r\n    );\r\n    Object.entries(scene_objects).forEach(\r\n        ([, obj]) => obj.draw()\r\n    );\r\n}\r\n\r\n/* WebGL Util */\r\n\r\nfunction updateTime() {\r\n    var timeNow = new Date().getTime();\r\n    if (lastTime != 0) {\r\n        elapsed_time = timeNow - lastTime;\r\n    }\r\n    lastTime = timeNow;\r\n}\r\n\r\nfunction tick() {\r\n    // window.requestAnimationFrame(tick);\r\n    window.requestAnimFrame(tick);\r\n    update();\r\n    draw();\r\n    updateTime();\r\n}\r\n","<template>\r\n    <div class=\"panel\">\r\n        <div>\r\n            <select v-model=\"selected\" style=\"font-size:24px\" size=10>\r\n                <option :value=\"selected_default\" selected>No object selected</option>\r\n                <!-- <option :value=\"obj[0]\" selected>No object selected</option> -->\r\n                <option v-for=\"o in obj\" :key=o :value=o> {{o.name}} </option>\r\n            </select>\r\n        </div>\r\n\r\n        <div>\r\n            <!-- <p v-if=\"is_selected\"> {{selected.name}}: {{selected.object.position}} </p> -->\r\n            <div v-if=\"is_selected\"> <object-component :obj=selected></object-component>  </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component'\r\nimport { ObjectAttribute, ModelObject } from '../ts/modelObject'\r\nimport ObjectComponent from './ObjectComponent.vue'\r\n\r\ndeclare let scene_objects: { [name: string]: ModelObject }\r\n\r\n@Options({\r\n    components: {ObjectComponent}\r\n})\r\nexport default class SceneObjectListComponent extends Vue {\r\n    obj: ObjectAttribute[] = []\r\n    selected_default: ObjectAttribute = { name: \"null\", object: null };\r\n    selected: ObjectAttribute = this.selected_default;\r\n\r\n    beforeMount() {\r\n        this.obj = [];\r\n        Object.entries(scene_objects).forEach(\r\n            ([name, obj]) => {\r\n                this.obj.push({\r\n                    name: name,\r\n                    object: obj\r\n                });\r\n            }\r\n        );\r\n    }\r\n    \r\n    get is_selected(): boolean {\r\n        return this.selected.object instanceof ModelObject\r\n    }\r\n\r\n    \r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.panel {\r\n    position: fixed;\r\n    top: 50%;\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    /* -moz-osx-font-smoothing: grayscale; */\r\n    /* float:inline-end; */\r\n    text-align: left;\r\n    /* right: 500px; */\r\n    /* color: #2c3e50; */\r\n    margin-top: 10px;\r\n    width: 100%;\r\n    height: 50%;\r\n    font-size: 18px;\r\n    display: flex;\r\n}\r\n\r\n</style>\r\n","<template>\r\n    <div class=\"object-component\">\r\n        <h4> Object: {{obj.name}} </h4>\r\n\r\n        <p class=\"array\"> Position </p>\r\n        <div v-for=\"(val, index) in pos\" :key=index class=\"array\">\r\n            {{xyz(index)}}\r\n            <input v-model.number=\"pos[index]\" class=\"input\">\r\n        </div>\r\n        <br/>\r\n\r\n        <p class=\"array\"> Rotation </p>\r\n        <div v-for=\"(val, index) in rot\" :key=index class=\"array\">\r\n            {{xyz(index)}}\r\n            <input v-model.number=\"euler[index]\" @keyup.enter=\"rot_changed\" class=\"input\">\r\n        </div>\r\n        <br/>\r\n\r\n        <p class=\"array\"> Shear </p>\r\n        <div v-for=\"(val, index) in shear\" :key=index class=\"array\">\r\n            {{index}}\r\n            <input v-model.number=\"shear[index]\" class=\"input\">\r\n        </div>\r\n        <br/>\r\n\r\n        <p class=\"array\"> Shader </p>\r\n        <select v-model=\"selected_shader\" style=\"font-size:24px\" class=\"array\">\r\n            <option v-for=\"(_, name) in shader_programs\" :key=name :value=name> {{name}} </option>\r\n        </select>\r\n        <p class=\"array\"> Gloss <input v-model.number=\"gloss\" class=\"input\"> </p>\r\n\r\n        <p v-if=\"is_texture\" class=\"array\"> Texture </p>\r\n        <select v-if=\"is_texture\" v-model=\"selected_texture\" style=\"font-size:24px\" class=\"array\">\r\n            <option v-for=\"(name, ) in texture_list\" :key=name :value=name> {{name}} </option>\r\n        </select>\r\n    </div>\r\n</template>\r\n\r\n\r\n<script lang=\"ts\">\r\nimport component from '*.vue';\r\nimport { Options, Vue, prop } from 'vue-class-component'\r\nimport { vec3, quat } from 'gl-matrix'\r\n\r\nimport { ModelObject, ObjectAttribute } from '../ts/modelObject'\r\nimport { getEuler } from '../ts/transform'\r\nimport { BasicShader } from '../ts/shaderProgram'\r\n\r\n\r\ndeclare let shader_programs: { [name: string]: BasicShader };\r\ndeclare var texture_list: string[];\r\n\r\n\r\nclass Props {\r\n    obj!: ObjectAttribute\r\n}\r\n\r\nexport default class ObjectComponent extends Vue.with(Props) {\r\n\r\n    euler: Array<number>\r\n    shader_programs = shader_programs;\r\n    texture_list = texture_list;\r\n\r\n    get is_texture() {  return this.obj.object.textures !== undefined }\r\n    get selected_texture() {\r\n        if(this.obj.object.textures === undefined){\r\n            return 'none';\r\n        }\r\n        return this.obj.object.textures.name; \r\n    }\r\n    set selected_texture(name) { this.obj.object.loadTexture(name); }\r\n\r\n    get selected_shader() { return this.obj.object.shaderProgram.name; }\r\n    set selected_shader(name) { this.obj.object.shaderProgram = shader_programs[name]; }\r\n\r\n    get gloss() { return this.obj.object.gloss; }\r\n    set gloss(val: number) { this.obj.object.gloss = val; }\r\n\r\n    get pos(){ return this.obj.object.position.valueOf() as Array<number>; }\r\n    \r\n    get shear(){ return this.obj.object.shear.valueOf() as Array<number>; }\r\n\r\n    get rot(){\r\n        this.euler = []\r\n        getEuler(this.euler, this.obj.object.rotation);\r\n        return this.euler;\r\n    }\r\n\r\n    rot_changed(){\r\n        this.obj.object.rotation = quat.fromEuler(quat.create(), this.euler[0], this.euler[1], this.euler[2]);\r\n    }\r\n\r\n    xyz(index){ return \"XYZ\"[index]; }\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n.object-component {\r\n    position:inherit;\r\n    /* top: 55%; */\r\n    /* right: 50%; */\r\n    /* left: 50%; */\r\n    font-family: Avenir, Helvetica, Arial, sans-serif;\r\n    -webkit-font-smoothing: antialiased;\r\n    -moz-osx-font-smoothing: grayscale;\r\n    /* float: right; */\r\n    text-align: left;\r\n    font-size: 24px;\r\n    line-break: strict;\r\n    line-height: 0%;\r\n}\r\n\r\n.array {\r\n    display: inline-block;\r\n    padding: 0px 5px;\r\n}\r\n\r\n.input {\r\n    font-size: 18px;\r\n    width: 60px;\r\n}\r\n</style>\r\n","\r\nimport component from '*.vue';\r\nimport { Options, Vue, prop } from 'vue-class-component'\r\nimport { vec3, quat } from 'gl-matrix'\r\n\r\nimport { ModelObject, ObjectAttribute } from '../ts/modelObject'\r\nimport { getEuler } from '../ts/transform'\r\nimport { BasicShader } from '../ts/shaderProgram'\r\n\r\n\r\ndeclare let shader_programs: { [name: string]: BasicShader };\r\ndeclare var texture_list: string[];\r\n\r\n\r\nclass Props {\r\n    obj!: ObjectAttribute\r\n}\r\n\r\nexport default class ObjectComponent extends Vue.with(Props) {\r\n\r\n    euler: Array<number>\r\n    shader_programs = shader_programs;\r\n    texture_list = texture_list;\r\n\r\n    get is_texture() {  return this.obj.object.textures !== undefined }\r\n    get selected_texture() {\r\n        if(this.obj.object.textures === undefined){\r\n            return 'none';\r\n        }\r\n        return this.obj.object.textures.name; \r\n    }\r\n    set selected_texture(name) { this.obj.object.loadTexture(name); }\r\n\r\n    get selected_shader() { return this.obj.object.shaderProgram.name; }\r\n    set selected_shader(name) { this.obj.object.shaderProgram = shader_programs[name]; }\r\n\r\n    get gloss() { return this.obj.object.gloss; }\r\n    set gloss(val: number) { this.obj.object.gloss = val; }\r\n\r\n    get pos(){ return this.obj.object.position.valueOf() as Array<number>; }\r\n    \r\n    get shear(){ return this.obj.object.shear.valueOf() as Array<number>; }\r\n\r\n    get rot(){\r\n        this.euler = []\r\n        getEuler(this.euler, this.obj.object.rotation);\r\n        return this.euler;\r\n    }\r\n\r\n    rot_changed(){\r\n        this.obj.object.rotation = quat.fromEuler(quat.create(), this.euler[0], this.euler[1], this.euler[2]);\r\n    }\r\n\r\n    xyz(index){ return \"XYZ\"[index]; }\r\n}\r\n\r\n","import { render } from \"./ObjectComponent.vue?vue&type=template&id=a96d9380\"\nimport script from \"./ObjectComponent.vue?vue&type=script&lang=ts\"\nexport * from \"./ObjectComponent.vue?vue&type=script&lang=ts\"\n\nimport \"./ObjectComponent.vue?vue&type=style&index=0&id=a96d9380&lang=css\"\nscript.render = render\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component'\r\nimport { ObjectAttribute, ModelObject } from '../ts/modelObject'\r\nimport ObjectComponent from './ObjectComponent.vue'\r\n\r\ndeclare let scene_objects: { [name: string]: ModelObject }\r\n\r\n@Options({\r\n    components: {ObjectComponent}\r\n})\r\nexport default class SceneObjectListComponent extends Vue {\r\n    obj: ObjectAttribute[] = []\r\n    selected_default: ObjectAttribute = { name: \"null\", object: null };\r\n    selected: ObjectAttribute = this.selected_default;\r\n\r\n    beforeMount() {\r\n        this.obj = [];\r\n        Object.entries(scene_objects).forEach(\r\n            ([name, obj]) => {\r\n                this.obj.push({\r\n                    name: name,\r\n                    object: obj\r\n                });\r\n            }\r\n        );\r\n    }\r\n    \r\n    get is_selected(): boolean {\r\n        return this.selected.object instanceof ModelObject\r\n    }\r\n\r\n    \r\n}\r\n\r\n","import { render } from \"./SceneObjectList.vue?vue&type=template&id=d766ded8\"\nimport script from \"./SceneObjectList.vue?vue&type=script&lang=ts\"\nexport * from \"./SceneObjectList.vue?vue&type=script&lang=ts\"\n\nimport \"./SceneObjectList.vue?vue&type=style&index=0&id=d766ded8&lang=css\"\nscript.render = render\n\nexport default script","export default \"precision highp float;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\n\\r\\nstruct Light {\\r\\n    bool enabled;\\r\\n    vec3 position;\\r\\n    vec3 la; // Ambient\\r\\n    vec3 ld; // Diffuse\\r\\n    vec3 ls; // Specular\\r\\n    // float gloss;\\r\\n};\\r\\n\\r\\n\\r\\nuniform float gloss;\\r\\nuniform Light lights[4];\\r\\nuniform vec3 uCamPos;\\r\\n\\r\\nvoid main(void) {\\r\\n    gl_FragColor = vec4(0, 0, 0, 1);\\r\\n    vec3 color = fragcolor;\\r\\n    // vec3 camPos = uCamPos;\\r\\n    vec3 normal = normalize(vNormal);\\r\\n    vec3 viewDir = normalize(uCamPos - pos);\\r\\n    vec3 light_color = vec3(0);\\r\\n    vec3 spec_color = vec3(0);\\r\\n    for(int i = 0; i < 4; ++i){\\r\\n        if(!lights[i].enabled){\\r\\n            break;\\r\\n        }\\r\\n        // vec3 lightPos = (invModelMatrix * vec4(lights[i].position, 1)).xyz;\\r\\n        vec3 lightDir = normalize(lights[i].position - pos);\\r\\n\\r\\n        float dif = dot(normal, lightDir);\\r\\n        // if(dif > 0.5) dif = .7;\\r\\n        // else dif = .2;\\r\\n        light_color += lights[i].la + dif * lights[i].ld;\\r\\n        \\r\\n        vec3 halfDir = normalize(viewDir + lightDir);\\r\\n        float spec = pow(max(dot(normal, halfDir), 0.), gloss);\\r\\n        // spec = step(.75, spec);\\r\\n        // spec = smoothstep(.2, 1., spec);\\r\\n        spec_color += lights[i].ls * spec;\\r\\n    }\\r\\n    gl_FragColor.rgb = light_color * color + spec_color;\\r\\n}\"","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./SceneObjectList.vue?vue&type=style&index=0&id=d766ded8&lang=css\"","export default \"attribute vec3 aVertexPosition;\\r\\nattribute vec3 aFrontColor;\\r\\nattribute vec3 aNormal;\\r\\n\\r\\nuniform mat4 uModelMatrix;\\r\\nuniform mat4 uMVMatrix;\\r\\nuniform mat4 uPMatrix;\\r\\nuniform mat4 uinvTMVMatrix;\\r\\nuniform mat4 uinvTModelMatrix;\\r\\n\\r\\nvarying vec3 fragcolor;\\r\\nvarying vec3 vNormal;\\r\\nvarying vec3 pos;\\r\\n\\r\\nmat4 transpose(mat4 inMatrix) { \\r\\n    vec4 i0 = inMatrix[0]; \\r\\n    vec4 i1 = inMatrix[1]; \\r\\n    vec4 i2 = inMatrix[2]; \\r\\n    vec4 i3 = inMatrix[3]; \\r\\n\\r\\n    mat4 outMatrix = mat4(\\r\\n       vec4(i0.x, i1.x, i2.x, i3.x), \\r\\n       vec4(i0.y, i1.y, i2.y, i3.y), \\r\\n       vec4(i0.z, i1.z, i2.z, i3.z), \\r\\n       vec4(i0.w, i1.w, i2.w, i3.w) \\r\\n       ); \\r\\n\\r\\n    return outMatrix; \\r\\n} \\r\\n\\r\\nvoid main(void) {\\r\\n    fragcolor = aFrontColor;\\r\\n    // pos = aVertexPosition;\\r\\n    pos = (uModelMatrix * vec4(aVertexPosition, 1)).xyz;\\r\\n    // normal = normalize(aNormal);\\r\\n    vNormal = ((uinvTModelMatrix * vec4(aNormal, 0.0)).xyz);\\r\\n\\r\\n    gl_Position = uPMatrix * uMVMatrix * vec4(pos, 1.0);\\r\\n}\"","var map = {\n\t\"./cel.frag\": \"a036\",\n\t\"./custom.frag\": \"b44e\",\n\t\"./flat.frag\": \"a4e4\",\n\t\"./goraud.frag\": \"3444\",\n\t\"./phong.frag\": \"ee5e\"\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = \"fefc\";"],"sourceRoot":""}