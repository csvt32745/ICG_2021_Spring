/*! For license information please see bundle.js.LICENSE.txt */
(()=>{var t={343:function(t,r){!function(t){"use strict";var r=1e-6,n="undefined"!=typeof Float32Array?Float32Array:Array,a=Math.random;var e=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var o=Object.freeze({__proto__:null,EPSILON:r,get ARRAY_TYPE(){return n},RANDOM:a,setMatrixArrayType:function(t){n=t},toRadian:function(t){return t*e},equals:function(t,n){return Math.abs(t-n)<=r*Math.max(1,Math.abs(t),Math.abs(n))}});function u(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],h=n[3];return t[0]=a*i+o*s,t[1]=e*i+u*s,t[2]=a*c+o*h,t[3]=e*c+u*h,t}function i(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}var s=u,c=i,h=Object.freeze({__proto__:null,create:function(){var t=new n(4);return n!=Float32Array&&(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},clone:function(t){var r=new n(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t},fromValues:function(t,r,a,e){var o=new n(4);return o[0]=t,o[1]=r,o[2]=a,o[3]=e,o},set:function(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t},transpose:function(t,r){if(t===r){var n=r[1];t[1]=r[2],t[2]=n}else t[0]=r[0],t[1]=r[2],t[2]=r[1],t[3]=r[3];return t},invert:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*o-e*a;return u?(u=1/u,t[0]=o*u,t[1]=-a*u,t[2]=-e*u,t[3]=n*u,t):null},adjoint:function(t,r){var n=r[0];return t[0]=r[3],t[1]=-r[1],t[2]=-r[2],t[3]=n,t},determinant:function(t){return t[0]*t[3]-t[2]*t[1]},multiply:u,rotate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+o*i,t[1]=e*s+u*i,t[2]=a*-i+o*s,t[3]=e*-i+u*s,t},scale:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1];return t[0]=a*i,t[1]=e*i,t[2]=o*s,t[3]=u*s,t},fromRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t},fromScaling:function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t},str:function(t){return"mat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3])},LDU:function(t,r,n,a){return t[2]=a[2]/a[0],n[0]=a[0],n[1]=a[1],n[3]=a[3]-t[2]*n[1],[t,r,n]},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t},subtract:i,exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=n[0],s=n[1],c=n[2],h=n[3];return Math.abs(a-i)<=r*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=r*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=r*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(u-h)<=r*Math.max(1,Math.abs(u),Math.abs(h))},multiplyScalar:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t},multiplyScalarAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t},mul:s,sub:c});function f(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],h=n[1],f=n[2],M=n[3],l=n[4],v=n[5];return t[0]=a*c+o*h,t[1]=e*c+u*h,t[2]=a*f+o*M,t[3]=e*f+u*M,t[4]=a*l+o*v+i,t[5]=e*l+u*v+s,t}function M(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t}var l=f,v=M,m=Object.freeze({__proto__:null,create:function(){var t=new n(6);return n!=Float32Array&&(t[1]=0,t[2]=0,t[4]=0,t[5]=0),t[0]=1,t[3]=1,t},clone:function(t){var r=new n(6);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t},fromValues:function(t,r,a,e,o,u){var i=new n(6);return i[0]=t,i[1]=r,i[2]=a,i[3]=e,i[4]=o,i[5]=u,i},set:function(t,r,n,a,e,o,u){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t},invert:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=n*o-a*e;return s?(s=1/s,t[0]=o*s,t[1]=-a*s,t[2]=-e*s,t[3]=n*s,t[4]=(e*i-o*u)*s,t[5]=(a*u-n*i)*s,t):null},determinant:function(t){return t[0]*t[3]-t[1]*t[2]},multiply:f,rotate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=Math.sin(n),h=Math.cos(n);return t[0]=a*h+o*c,t[1]=e*h+u*c,t[2]=a*-c+o*h,t[3]=e*-c+u*h,t[4]=i,t[5]=s,t},scale:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],h=n[1];return t[0]=a*c,t[1]=e*c,t[2]=o*h,t[3]=u*h,t[4]=i,t[5]=s,t},translate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=n[0],h=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=a*c+o*h+i,t[5]=e*c+u*h+s,t},fromRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=-n,t[3]=a,t[4]=0,t[5]=0,t},fromScaling:function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=r[1],t[4]=0,t[5]=0,t},fromTranslation:function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=r[0],t[5]=r[1],t},str:function(t){return"mat2d("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],1)},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t},subtract:M,multiplyScalar:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t},multiplyScalarAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=t[4],s=t[5],c=n[0],h=n[1],f=n[2],M=n[3],l=n[4],v=n[5];return Math.abs(a-c)<=r*Math.max(1,Math.abs(a),Math.abs(c))&&Math.abs(e-h)<=r*Math.max(1,Math.abs(e),Math.abs(h))&&Math.abs(o-f)<=r*Math.max(1,Math.abs(o),Math.abs(f))&&Math.abs(u-M)<=r*Math.max(1,Math.abs(u),Math.abs(M))&&Math.abs(i-l)<=r*Math.max(1,Math.abs(i),Math.abs(l))&&Math.abs(s-v)<=r*Math.max(1,Math.abs(s),Math.abs(v))},mul:l,sub:v});function b(){var t=new n(9);return n!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t}function d(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=n[0],l=n[1],v=n[2],m=n[3],b=n[4],d=n[5],g=n[6],x=n[7],p=n[8];return t[0]=M*a+l*u+v*c,t[1]=M*e+l*i+v*h,t[2]=M*o+l*s+v*f,t[3]=m*a+b*u+d*c,t[4]=m*e+b*i+d*h,t[5]=m*o+b*s+d*f,t[6]=g*a+x*u+p*c,t[7]=g*e+x*i+p*h,t[8]=g*o+x*s+p*f,t}function g(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t}var x=d,p=g,y=Object.freeze({__proto__:null,create:b,fromMat4:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[4],t[4]=r[5],t[5]=r[6],t[6]=r[8],t[7]=r[9],t[8]=r[10],t},clone:function(t){var r=new n(9);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},fromValues:function(t,r,a,e,o,u,i,s,c){var h=new n(9);return h[0]=t,h[1]=r,h[2]=a,h[3]=e,h[4]=o,h[5]=u,h[6]=i,h[7]=s,h[8]=c,h},set:function(t,r,n,a,e,o,u,i,s,c){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t},identity:function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},transpose:function(t,r){if(t===r){var n=r[1],a=r[2],e=r[5];t[1]=r[3],t[2]=r[6],t[3]=n,t[5]=r[7],t[6]=a,t[7]=e}else t[0]=r[0],t[1]=r[3],t[2]=r[6],t[3]=r[1],t[4]=r[4],t[5]=r[7],t[6]=r[2],t[7]=r[5],t[8]=r[8];return t},invert:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8],f=h*u-i*c,M=-h*o+i*s,l=c*o-u*s,v=n*f+a*M+e*l;return v?(v=1/v,t[0]=f*v,t[1]=(-h*a+e*c)*v,t[2]=(i*a-e*u)*v,t[3]=M*v,t[4]=(h*n-e*s)*v,t[5]=(-i*n+e*o)*v,t[6]=l*v,t[7]=(-c*n+a*s)*v,t[8]=(u*n-a*o)*v,t):null},adjoint:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8];return t[0]=u*h-i*c,t[1]=e*c-a*h,t[2]=a*i-e*u,t[3]=i*s-o*h,t[4]=n*h-e*s,t[5]=e*o-n*i,t[6]=o*c-u*s,t[7]=a*s-n*c,t[8]=n*u-a*o,t},determinant:function(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8];return r*(c*o-u*s)+n*(-c*e+u*i)+a*(s*e-o*i)},multiply:d,translate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=n[0],l=n[1];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=M*a+l*u+c,t[7]=M*e+l*i+h,t[8]=M*o+l*s+f,t},rotate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=Math.sin(n),l=Math.cos(n);return t[0]=l*a+M*u,t[1]=l*e+M*i,t[2]=l*o+M*s,t[3]=l*u-M*a,t[4]=l*i-M*e,t[5]=l*s-M*o,t[6]=c,t[7]=h,t[8]=f,t},scale:function(t,r,n){var a=n[0],e=n[1];return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=e*r[3],t[4]=e*r[4],t[5]=e*r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t},fromTranslation:function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=r[0],t[7]=r[1],t[8]=1,t},fromRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=-n,t[4]=a,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromScaling:function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=r[1],t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},fromMat2d:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=0,t[3]=r[2],t[4]=r[3],t[5]=0,t[6]=r[4],t[7]=r[5],t[8]=1,t},fromQuat:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,h=a*u,f=a*i,M=e*u,l=e*i,v=e*s,m=o*u,b=o*i,d=o*s;return t[0]=1-f-v,t[3]=h-d,t[6]=M+b,t[1]=h+d,t[4]=1-c-v,t[7]=l-m,t[2]=M-b,t[5]=l+m,t[8]=1-c-f,t},normalFromMat4:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8],f=r[9],M=r[10],l=r[11],v=r[12],m=r[13],b=r[14],d=r[15],g=n*i-a*u,x=n*s-e*u,p=n*c-o*u,y=a*s-e*i,w=a*c-o*i,A=e*c-o*s,q=h*m-f*v,_=h*b-M*v,F=h*d-l*v,P=f*b-M*m,T=f*d-l*m,R=M*d-l*b,S=g*R-x*T+p*P+y*F-w*_+A*q;return S?(S=1/S,t[0]=(i*R-s*T+c*P)*S,t[1]=(s*F-u*R-c*_)*S,t[2]=(u*T-i*F+c*q)*S,t[3]=(e*T-a*R-o*P)*S,t[4]=(n*R-e*F+o*_)*S,t[5]=(a*F-n*T-o*q)*S,t[6]=(m*A-b*w+d*y)*S,t[7]=(b*p-v*A-d*x)*S,t[8]=(v*w-m*p+d*g)*S,t):null},projection:function(t,r,n){return t[0]=2/r,t[1]=0,t[2]=0,t[3]=0,t[4]=-2/n,t[5]=0,t[6]=-1,t[7]=1,t[8]=1,t},str:function(t){return"mat3("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8])},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t},subtract:g,multiplyScalar:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t},multiplyScalarAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=t[4],s=t[5],c=t[6],h=t[7],f=t[8],M=n[0],l=n[1],v=n[2],m=n[3],b=n[4],d=n[5],g=n[6],x=n[7],p=n[8];return Math.abs(a-M)<=r*Math.max(1,Math.abs(a),Math.abs(M))&&Math.abs(e-l)<=r*Math.max(1,Math.abs(e),Math.abs(l))&&Math.abs(o-v)<=r*Math.max(1,Math.abs(o),Math.abs(v))&&Math.abs(u-m)<=r*Math.max(1,Math.abs(u),Math.abs(m))&&Math.abs(i-b)<=r*Math.max(1,Math.abs(i),Math.abs(b))&&Math.abs(s-d)<=r*Math.max(1,Math.abs(s),Math.abs(d))&&Math.abs(c-g)<=r*Math.max(1,Math.abs(c),Math.abs(g))&&Math.abs(h-x)<=r*Math.max(1,Math.abs(h),Math.abs(x))&&Math.abs(f-p)<=r*Math.max(1,Math.abs(f),Math.abs(p))},mul:x,sub:p});function w(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function A(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=r[9],l=r[10],v=r[11],m=r[12],b=r[13],d=r[14],g=r[15],x=n[0],p=n[1],y=n[2],w=n[3];return t[0]=x*a+p*i+y*f+w*m,t[1]=x*e+p*s+y*M+w*b,t[2]=x*o+p*c+y*l+w*d,t[3]=x*u+p*h+y*v+w*g,x=n[4],p=n[5],y=n[6],w=n[7],t[4]=x*a+p*i+y*f+w*m,t[5]=x*e+p*s+y*M+w*b,t[6]=x*o+p*c+y*l+w*d,t[7]=x*u+p*h+y*v+w*g,x=n[8],p=n[9],y=n[10],w=n[11],t[8]=x*a+p*i+y*f+w*m,t[9]=x*e+p*s+y*M+w*b,t[10]=x*o+p*c+y*l+w*d,t[11]=x*u+p*h+y*v+w*g,x=n[12],p=n[13],y=n[14],w=n[15],t[12]=x*a+p*i+y*f+w*m,t[13]=x*e+p*s+y*M+w*b,t[14]=x*o+p*c+y*l+w*d,t[15]=x*u+p*h+y*v+w*g,t}function q(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=a+a,s=e+e,c=o+o,h=a*i,f=a*s,M=a*c,l=e*s,v=e*c,m=o*c,b=u*i,d=u*s,g=u*c;return t[0]=1-(l+m),t[1]=f+g,t[2]=M-d,t[3]=0,t[4]=f-g,t[5]=1-(h+m),t[6]=v+b,t[7]=0,t[8]=M+d,t[9]=v-b,t[10]=1-(h+l),t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t}function _(t,r){return t[0]=r[12],t[1]=r[13],t[2]=r[14],t}function F(t,r){var n=r[0],a=r[1],e=r[2],o=r[4],u=r[5],i=r[6],s=r[8],c=r[9],h=r[10];return t[0]=Math.hypot(n,a,e),t[1]=Math.hypot(o,u,i),t[2]=Math.hypot(s,c,h),t}function P(t,r){var a=new n(3);F(a,r);var e=1/a[0],o=1/a[1],u=1/a[2],i=r[0]*e,s=r[1]*o,c=r[2]*u,h=r[4]*e,f=r[5]*o,M=r[6]*u,l=r[8]*e,v=r[9]*o,m=r[10]*u,b=i+f+m,d=0;return b>0?(d=2*Math.sqrt(b+1),t[3]=.25*d,t[0]=(M-v)/d,t[1]=(l-c)/d,t[2]=(s-h)/d):i>f&&i>m?(d=2*Math.sqrt(1+i-f-m),t[3]=(M-v)/d,t[0]=.25*d,t[1]=(s+h)/d,t[2]=(l+c)/d):f>m?(d=2*Math.sqrt(1+f-i-m),t[3]=(l-c)/d,t[0]=(s+h)/d,t[1]=.25*d,t[2]=(M+v)/d):(d=2*Math.sqrt(1+m-i-f),t[3]=(s-h)/d,t[0]=(l+c)/d,t[1]=(M+v)/d,t[2]=.25*d),t}function T(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t[4]=r[4]-n[4],t[5]=r[5]-n[5],t[6]=r[6]-n[6],t[7]=r[7]-n[7],t[8]=r[8]-n[8],t[9]=r[9]-n[9],t[10]=r[10]-n[10],t[11]=r[11]-n[11],t[12]=r[12]-n[12],t[13]=r[13]-n[13],t[14]=r[14]-n[14],t[15]=r[15]-n[15],t}var R=A,S=T,L=Object.freeze({__proto__:null,create:function(){var t=new n(16);return n!=Float32Array&&(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},clone:function(t){var r=new n(16);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r[8]=t[8],r[9]=t[9],r[10]=t[10],r[11]=t[11],r[12]=t[12],r[13]=t[13],r[14]=t[14],r[15]=t[15],r},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},fromValues:function(t,r,a,e,o,u,i,s,c,h,f,M,l,v,m,b){var d=new n(16);return d[0]=t,d[1]=r,d[2]=a,d[3]=e,d[4]=o,d[5]=u,d[6]=i,d[7]=s,d[8]=c,d[9]=h,d[10]=f,d[11]=M,d[12]=l,d[13]=v,d[14]=m,d[15]=b,d},set:function(t,r,n,a,e,o,u,i,s,c,h,f,M,l,v,m,b){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t[8]=c,t[9]=h,t[10]=f,t[11]=M,t[12]=l,t[13]=v,t[14]=m,t[15]=b,t},identity:w,transpose:function(t,r){if(t===r){var n=r[1],a=r[2],e=r[3],o=r[6],u=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=e,t[13]=u,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15];return t},invert:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8],f=r[9],M=r[10],l=r[11],v=r[12],m=r[13],b=r[14],d=r[15],g=n*i-a*u,x=n*s-e*u,p=n*c-o*u,y=a*s-e*i,w=a*c-o*i,A=e*c-o*s,q=h*m-f*v,_=h*b-M*v,F=h*d-l*v,P=f*b-M*m,T=f*d-l*m,R=M*d-l*b,S=g*R-x*T+p*P+y*F-w*_+A*q;return S?(S=1/S,t[0]=(i*R-s*T+c*P)*S,t[1]=(e*T-a*R-o*P)*S,t[2]=(m*A-b*w+d*y)*S,t[3]=(M*w-f*A-l*y)*S,t[4]=(s*F-u*R-c*_)*S,t[5]=(n*R-e*F+o*_)*S,t[6]=(b*p-v*A-d*x)*S,t[7]=(h*A-M*p+l*x)*S,t[8]=(u*T-i*F+c*q)*S,t[9]=(a*F-n*T-o*q)*S,t[10]=(v*w-m*p+d*g)*S,t[11]=(f*p-h*w-l*g)*S,t[12]=(i*_-u*P-s*q)*S,t[13]=(n*P-a*_+e*q)*S,t[14]=(m*x-v*y-b*g)*S,t[15]=(h*y-f*x+M*g)*S,t):null},adjoint:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8],f=r[9],M=r[10],l=r[11],v=r[12],m=r[13],b=r[14],d=r[15],g=n*i-a*u,x=n*s-e*u,p=n*c-o*u,y=a*s-e*i,w=a*c-o*i,A=e*c-o*s,q=h*m-f*v,_=h*b-M*v,F=h*d-l*v,P=f*b-M*m,T=f*d-l*m,R=M*d-l*b;return t[0]=i*R-s*T+c*P,t[1]=e*T-a*R-o*P,t[2]=m*A-b*w+d*y,t[3]=M*w-f*A-l*y,t[4]=s*F-u*R-c*_,t[5]=n*R-e*F+o*_,t[6]=b*p-v*A-d*x,t[7]=h*A-M*p+l*x,t[8]=u*T-i*F+c*q,t[9]=a*F-n*T-o*q,t[10]=v*w-m*p+d*g,t[11]=f*p-h*w-l*g,t[12]=i*_-u*P-s*q,t[13]=n*P-a*_+e*q,t[14]=m*x-v*y-b*g,t[15]=h*y-f*x+M*g,t},determinant:function(t){var r=t[0],n=t[1],a=t[2],e=t[3],o=t[4],u=t[5],i=t[6],s=t[7],c=t[8],h=t[9],f=t[10],M=t[11],l=t[12],v=t[13],m=t[14],b=r*u-n*o,d=r*i-a*o,g=n*i-a*u,x=c*v-h*l,p=c*m-f*l,y=h*m-f*v;return s*(r*y-n*p+a*x)-e*(o*y-u*p+i*x)+t[15]*(c*g-h*d+f*b)-M*(l*g-v*d+m*b)},multiply:A,translate:function(t,r,n){var a,e,o,u,i,s,c,h,f,M,l,v,m=n[0],b=n[1],d=n[2];return r===t?(t[12]=r[0]*m+r[4]*b+r[8]*d+r[12],t[13]=r[1]*m+r[5]*b+r[9]*d+r[13],t[14]=r[2]*m+r[6]*b+r[10]*d+r[14],t[15]=r[3]*m+r[7]*b+r[11]*d+r[15]):(a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=r[9],l=r[10],v=r[11],t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=c,t[7]=h,t[8]=f,t[9]=M,t[10]=l,t[11]=v,t[12]=a*m+i*b+f*d+r[12],t[13]=e*m+s*b+M*d+r[13],t[14]=o*m+c*b+l*d+r[14],t[15]=u*m+h*b+v*d+r[15]),t},scale:function(t,r,n){var a=n[0],e=n[1],o=n[2];return t[0]=r[0]*a,t[1]=r[1]*a,t[2]=r[2]*a,t[3]=r[3]*a,t[4]=r[4]*e,t[5]=r[5]*e,t[6]=r[6]*e,t[7]=r[7]*e,t[8]=r[8]*o,t[9]=r[9]*o,t[10]=r[10]*o,t[11]=r[11]*o,t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15],t},rotate:function(t,n,a,e){var o,u,i,s,c,h,f,M,l,v,m,b,d,g,x,p,y,w,A,q,_,F,P,T,R=e[0],S=e[1],L=e[2],E=Math.hypot(R,S,L);return E<r?null:(R*=E=1/E,S*=E,L*=E,o=Math.sin(a),i=1-(u=Math.cos(a)),s=n[0],c=n[1],h=n[2],f=n[3],M=n[4],l=n[5],v=n[6],m=n[7],b=n[8],d=n[9],g=n[10],x=n[11],p=R*R*i+u,y=S*R*i+L*o,w=L*R*i-S*o,A=R*S*i-L*o,q=S*S*i+u,_=L*S*i+R*o,F=R*L*i+S*o,P=S*L*i-R*o,T=L*L*i+u,t[0]=s*p+M*y+b*w,t[1]=c*p+l*y+d*w,t[2]=h*p+v*y+g*w,t[3]=f*p+m*y+x*w,t[4]=s*A+M*q+b*_,t[5]=c*A+l*q+d*_,t[6]=h*A+v*q+g*_,t[7]=f*A+m*q+x*_,t[8]=s*F+M*P+b*T,t[9]=c*F+l*P+d*T,t[10]=h*F+v*P+g*T,t[11]=f*F+m*P+x*T,n!==t&&(t[12]=n[12],t[13]=n[13],t[14]=n[14],t[15]=n[15]),t)},rotateX:function(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[4],u=r[5],i=r[6],s=r[7],c=r[8],h=r[9],f=r[10],M=r[11];return r!==t&&(t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[4]=o*e+c*a,t[5]=u*e+h*a,t[6]=i*e+f*a,t[7]=s*e+M*a,t[8]=c*e-o*a,t[9]=h*e-u*a,t[10]=f*e-i*a,t[11]=M*e-s*a,t},rotateY:function(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[8],h=r[9],f=r[10],M=r[11];return r!==t&&(t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e-c*a,t[1]=u*e-h*a,t[2]=i*e-f*a,t[3]=s*e-M*a,t[8]=o*a+c*e,t[9]=u*a+h*e,t[10]=i*a+f*e,t[11]=s*a+M*e,t},rotateZ:function(t,r,n){var a=Math.sin(n),e=Math.cos(n),o=r[0],u=r[1],i=r[2],s=r[3],c=r[4],h=r[5],f=r[6],M=r[7];return r!==t&&(t[8]=r[8],t[9]=r[9],t[10]=r[10],t[11]=r[11],t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]),t[0]=o*e+c*a,t[1]=u*e+h*a,t[2]=i*e+f*a,t[3]=s*e+M*a,t[4]=c*e-o*a,t[5]=h*e-u*a,t[6]=f*e-i*a,t[7]=M*e-s*a,t},fromTranslation:function(t,r){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t},fromScaling:function(t,r){return t[0]=r[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=r[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=r[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotation:function(t,n,a){var e,o,u,i=a[0],s=a[1],c=a[2],h=Math.hypot(i,s,c);return h<r?null:(i*=h=1/h,s*=h,c*=h,e=Math.sin(n),u=1-(o=Math.cos(n)),t[0]=i*i*u+o,t[1]=s*i*u+c*e,t[2]=c*i*u-s*e,t[3]=0,t[4]=i*s*u-c*e,t[5]=s*s*u+o,t[6]=c*s*u+i*e,t[7]=0,t[8]=i*c*u+s*e,t[9]=s*c*u-i*e,t[10]=c*c*u+o,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t)},fromXRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=n,t[7]=0,t[8]=0,t[9]=-n,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromYRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=0,t[2]=-n,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=n,t[9]=0,t[10]=a,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromZRotation:function(t,r){var n=Math.sin(r),a=Math.cos(r);return t[0]=a,t[1]=n,t[2]=0,t[3]=0,t[4]=-n,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},fromRotationTranslation:q,fromQuat2:function(t,r){var a=new n(3),e=-r[0],o=-r[1],u=-r[2],i=r[3],s=r[4],c=r[5],h=r[6],f=r[7],M=e*e+o*o+u*u+i*i;return M>0?(a[0]=2*(s*i+f*e+c*u-h*o)/M,a[1]=2*(c*i+f*o+h*e-s*u)/M,a[2]=2*(h*i+f*u+s*o-c*e)/M):(a[0]=2*(s*i+f*e+c*u-h*o),a[1]=2*(c*i+f*o+h*e-s*u),a[2]=2*(h*i+f*u+s*o-c*e)),q(t,r,a),t},getTranslation:_,getScaling:F,getRotation:P,decompose:function(t,r,n,a){r[0]=a[12],r[1]=a[13],r[2]=a[14];var e=a[0],o=a[1],u=a[2],i=a[4],s=a[5],c=a[6],h=a[8],f=a[9],M=a[10];n[0]=Math.hypot(e,o,u),n[1]=Math.hypot(i,s,c),n[2]=Math.hypot(h,f,M);var l=1/n[0],v=1/n[1],m=1/n[2],b=e*l,d=o*v,g=u*m,x=i*l,p=s*v,y=c*m,w=h*l,A=f*v,q=M*m,_=b+p+q,F=0;return _>0?(F=2*Math.sqrt(_+1),t[3]=.25*F,t[0]=(y-A)/F,t[1]=(w-g)/F,t[2]=(d-x)/F):b>p&&b>q?(F=2*Math.sqrt(1+b-p-q),t[3]=(y-A)/F,t[0]=.25*F,t[1]=(d+x)/F,t[2]=(w+g)/F):p>q?(F=2*Math.sqrt(1+p-b-q),t[3]=(w-g)/F,t[0]=(d+x)/F,t[1]=.25*F,t[2]=(y+A)/F):(F=2*Math.sqrt(1+q-b-p),t[3]=(d-x)/F,t[0]=(w+g)/F,t[1]=(y+A)/F,t[2]=.25*F),t},fromRotationTranslationScale:function(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3],s=e+e,c=o+o,h=u+u,f=e*s,M=e*c,l=e*h,v=o*c,m=o*h,b=u*h,d=i*s,g=i*c,x=i*h,p=a[0],y=a[1],w=a[2];return t[0]=(1-(v+b))*p,t[1]=(M+x)*p,t[2]=(l-g)*p,t[3]=0,t[4]=(M-x)*y,t[5]=(1-(f+b))*y,t[6]=(m+d)*y,t[7]=0,t[8]=(l+g)*w,t[9]=(m-d)*w,t[10]=(1-(f+v))*w,t[11]=0,t[12]=n[0],t[13]=n[1],t[14]=n[2],t[15]=1,t},fromRotationTranslationScaleOrigin:function(t,r,n,a,e){var o=r[0],u=r[1],i=r[2],s=r[3],c=o+o,h=u+u,f=i+i,M=o*c,l=o*h,v=o*f,m=u*h,b=u*f,d=i*f,g=s*c,x=s*h,p=s*f,y=a[0],w=a[1],A=a[2],q=e[0],_=e[1],F=e[2],P=(1-(m+d))*y,T=(l+p)*y,R=(v-x)*y,S=(l-p)*w,L=(1-(M+d))*w,E=(b+g)*w,z=(v+x)*A,C=(b-g)*A,O=(1-(M+m))*A;return t[0]=P,t[1]=T,t[2]=R,t[3]=0,t[4]=S,t[5]=L,t[6]=E,t[7]=0,t[8]=z,t[9]=C,t[10]=O,t[11]=0,t[12]=n[0]+q-(P*q+S*_+z*F),t[13]=n[1]+_-(T*q+L*_+C*F),t[14]=n[2]+F-(R*q+E*_+O*F),t[15]=1,t},fromQuat:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n+n,i=a+a,s=e+e,c=n*u,h=a*u,f=a*i,M=e*u,l=e*i,v=e*s,m=o*u,b=o*i,d=o*s;return t[0]=1-f-v,t[1]=h+d,t[2]=M-b,t[3]=0,t[4]=h-d,t[5]=1-c-v,t[6]=l+m,t[7]=0,t[8]=M+b,t[9]=l-m,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t},frustum:function(t,r,n,a,e,o,u){var i=1/(n-r),s=1/(e-a),c=1/(o-u);return t[0]=2*o*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*o*s,t[6]=0,t[7]=0,t[8]=(n+r)*i,t[9]=(e+a)*s,t[10]=(u+o)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=u*o*2*c,t[15]=0,t},perspective:function(t,r,n,a,e){var o,u=1/Math.tan(r/2);return t[0]=u/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=e&&e!==1/0?(o=1/(a-e),t[10]=(e+a)*o,t[14]=2*e*a*o):(t[10]=-1,t[14]=-2*a),t},perspectiveFromFieldOfView:function(t,r,n,a){var e=Math.tan(r.upDegrees*Math.PI/180),o=Math.tan(r.downDegrees*Math.PI/180),u=Math.tan(r.leftDegrees*Math.PI/180),i=Math.tan(r.rightDegrees*Math.PI/180),s=2/(u+i),c=2/(e+o);return t[0]=s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(u-i)*s*.5,t[9]=(e-o)*c*.5,t[10]=a/(n-a),t[11]=-1,t[12]=0,t[13]=0,t[14]=a*n/(n-a),t[15]=0,t},ortho:function(t,r,n,a,e,o,u){var i=1/(r-n),s=1/(a-e),c=1/(o-u);return t[0]=-2*i,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*s,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(r+n)*i,t[13]=(e+a)*s,t[14]=(u+o)*c,t[15]=1,t},lookAt:function(t,n,a,e){var o,u,i,s,c,h,f,M,l,v,m=n[0],b=n[1],d=n[2],g=e[0],x=e[1],p=e[2],y=a[0],A=a[1],q=a[2];return Math.abs(m-y)<r&&Math.abs(b-A)<r&&Math.abs(d-q)<r?w(t):(f=m-y,M=b-A,l=d-q,o=x*(l*=v=1/Math.hypot(f,M,l))-p*(M*=v),u=p*(f*=v)-g*l,i=g*M-x*f,(v=Math.hypot(o,u,i))?(o*=v=1/v,u*=v,i*=v):(o=0,u=0,i=0),s=M*i-l*u,c=l*o-f*i,h=f*u-M*o,(v=Math.hypot(s,c,h))?(s*=v=1/v,c*=v,h*=v):(s=0,c=0,h=0),t[0]=o,t[1]=s,t[2]=f,t[3]=0,t[4]=u,t[5]=c,t[6]=M,t[7]=0,t[8]=i,t[9]=h,t[10]=l,t[11]=0,t[12]=-(o*m+u*b+i*d),t[13]=-(s*m+c*b+h*d),t[14]=-(f*m+M*b+l*d),t[15]=1,t)},targetTo:function(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=a[0],s=a[1],c=a[2],h=e-n[0],f=o-n[1],M=u-n[2],l=h*h+f*f+M*M;l>0&&(h*=l=1/Math.sqrt(l),f*=l,M*=l);var v=s*M-c*f,m=c*h-i*M,b=i*f-s*h;return(l=v*v+m*m+b*b)>0&&(v*=l=1/Math.sqrt(l),m*=l,b*=l),t[0]=v,t[1]=m,t[2]=b,t[3]=0,t[4]=f*b-M*m,t[5]=M*v-h*b,t[6]=h*m-f*v,t[7]=0,t[8]=h,t[9]=f,t[10]=M,t[11]=0,t[12]=e,t[13]=o,t[14]=u,t[15]=1,t},str:function(t){return"mat4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+", "+t[8]+", "+t[9]+", "+t[10]+", "+t[11]+", "+t[12]+", "+t[13]+", "+t[14]+", "+t[15]+")"},frob:function(t){return Math.hypot(t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7],t[8],t[9],t[10],t[11],t[12],t[13],t[14],t[15])},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t[8]=r[8]+n[8],t[9]=r[9]+n[9],t[10]=r[10]+n[10],t[11]=r[11]+n[11],t[12]=r[12]+n[12],t[13]=r[13]+n[13],t[14]=r[14]+n[14],t[15]=r[15]+n[15],t},subtract:T,multiplyScalar:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t[8]=r[8]*n,t[9]=r[9]*n,t[10]=r[10]*n,t[11]=r[11]*n,t[12]=r[12]*n,t[13]=r[13]*n,t[14]=r[14]*n,t[15]=r[15]*n,t},multiplyScalarAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t[4]=r[4]+n[4]*a,t[5]=r[5]+n[5]*a,t[6]=r[6]+n[6]*a,t[7]=r[7]+n[7]*a,t[8]=r[8]+n[8]*a,t[9]=r[9]+n[9]*a,t[10]=r[10]+n[10]*a,t[11]=r[11]+n[11]*a,t[12]=r[12]+n[12]*a,t[13]=r[13]+n[13]*a,t[14]=r[14]+n[14]*a,t[15]=r[15]+n[15]*a,t},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]&&t[8]===r[8]&&t[9]===r[9]&&t[10]===r[10]&&t[11]===r[11]&&t[12]===r[12]&&t[13]===r[13]&&t[14]===r[14]&&t[15]===r[15]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=t[4],s=t[5],c=t[6],h=t[7],f=t[8],M=t[9],l=t[10],v=t[11],m=t[12],b=t[13],d=t[14],g=t[15],x=n[0],p=n[1],y=n[2],w=n[3],A=n[4],q=n[5],_=n[6],F=n[7],P=n[8],T=n[9],R=n[10],S=n[11],L=n[12],E=n[13],z=n[14],C=n[15];return Math.abs(a-x)<=r*Math.max(1,Math.abs(a),Math.abs(x))&&Math.abs(e-p)<=r*Math.max(1,Math.abs(e),Math.abs(p))&&Math.abs(o-y)<=r*Math.max(1,Math.abs(o),Math.abs(y))&&Math.abs(u-w)<=r*Math.max(1,Math.abs(u),Math.abs(w))&&Math.abs(i-A)<=r*Math.max(1,Math.abs(i),Math.abs(A))&&Math.abs(s-q)<=r*Math.max(1,Math.abs(s),Math.abs(q))&&Math.abs(c-_)<=r*Math.max(1,Math.abs(c),Math.abs(_))&&Math.abs(h-F)<=r*Math.max(1,Math.abs(h),Math.abs(F))&&Math.abs(f-P)<=r*Math.max(1,Math.abs(f),Math.abs(P))&&Math.abs(M-T)<=r*Math.max(1,Math.abs(M),Math.abs(T))&&Math.abs(l-R)<=r*Math.max(1,Math.abs(l),Math.abs(R))&&Math.abs(v-S)<=r*Math.max(1,Math.abs(v),Math.abs(S))&&Math.abs(m-L)<=r*Math.max(1,Math.abs(m),Math.abs(L))&&Math.abs(b-E)<=r*Math.max(1,Math.abs(b),Math.abs(E))&&Math.abs(d-z)<=r*Math.max(1,Math.abs(d),Math.abs(z))&&Math.abs(g-C)<=r*Math.max(1,Math.abs(g),Math.abs(C))},mul:R,sub:S});function E(){var t=new n(3);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t}function z(t){var r=t[0],n=t[1],a=t[2];return Math.hypot(r,n,a)}function C(t,r,a){var e=new n(3);return e[0]=t,e[1]=r,e[2]=a,e}function O(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t}function D(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t}function I(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t}function V(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return Math.hypot(n,a,e)}function j(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2];return n*n+a*a+e*e}function B(t){var r=t[0],n=t[1],a=t[2];return r*r+n*n+a*a}function U(t,r){var n=r[0],a=r[1],e=r[2],o=n*n+a*a+e*e;return o>0&&(o=1/Math.sqrt(o)),t[0]=r[0]*o,t[1]=r[1]*o,t[2]=r[2]*o,t}function N(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]}function k(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2];return t[0]=e*s-o*i,t[1]=o*u-a*s,t[2]=a*i-e*u,t}var W,G=O,Y=D,H=I,Q=V,X=j,Z=z,$=B,J=(W=E(),function(t,r,n,a,e,o){var u,i;for(r||(r=3),n||(n=0),i=a?Math.min(a*r+n,t.length):t.length,u=n;u<i;u+=r)W[0]=t[u],W[1]=t[u+1],W[2]=t[u+2],e(W,W,o),t[u]=W[0],t[u+1]=W[1],t[u+2]=W[2];return t}),K=Object.freeze({__proto__:null,create:E,clone:function(t){var r=new n(3);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r},length:z,fromValues:C,copy:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t},set:function(t,r,n,a){return t[0]=r,t[1]=n,t[2]=a,t},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t},subtract:O,multiply:D,divide:I,ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t},min:function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t},max:function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t},scale:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t},scaleAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t},distance:V,squaredDistance:j,squaredLength:B,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t},normalize:U,dot:N,cross:k,lerp:function(t,r,n,a){var e=r[0],o=r[1],u=r[2];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t},slerp:function(t,r,n,a){var e=Math.acos(Math.min(Math.max(N(r,n),-1),1)),o=Math.sin(e),u=Math.sin((1-a)*e)/o,i=Math.sin(a*e)/o;return t[0]=u*r[0]+i*n[0],t[1]=u*r[1]+i*n[1],t[2]=u*r[2]+i*n[2],t},hermite:function(t,r,n,a,e,o){var u=o*o,i=u*(2*o-3)+1,s=u*(o-2)+o,c=u*(o-1),h=u*(3-2*o);return t[0]=r[0]*i+n[0]*s+a[0]*c+e[0]*h,t[1]=r[1]*i+n[1]*s+a[1]*c+e[1]*h,t[2]=r[2]*i+n[2]*s+a[2]*c+e[2]*h,t},bezier:function(t,r,n,a,e,o){var u=1-o,i=u*u,s=o*o,c=i*u,h=3*o*i,f=3*s*u,M=s*o;return t[0]=r[0]*c+n[0]*h+a[0]*f+e[0]*M,t[1]=r[1]*c+n[1]*h+a[1]*f+e[1]*M,t[2]=r[2]*c+n[2]*h+a[2]*f+e[2]*M,t},random:function(t,r){r=r||1;var n=2*a()*Math.PI,e=2*a()-1,o=Math.sqrt(1-e*e)*r;return t[0]=Math.cos(n)*o,t[1]=Math.sin(n)*o,t[2]=e*r,t},transformMat4:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[3]*a+n[7]*e+n[11]*o+n[15];return u=u||1,t[0]=(n[0]*a+n[4]*e+n[8]*o+n[12])/u,t[1]=(n[1]*a+n[5]*e+n[9]*o+n[13])/u,t[2]=(n[2]*a+n[6]*e+n[10]*o+n[14])/u,t},transformMat3:function(t,r,n){var a=r[0],e=r[1],o=r[2];return t[0]=a*n[0]+e*n[3]+o*n[6],t[1]=a*n[1]+e*n[4]+o*n[7],t[2]=a*n[2]+e*n[5]+o*n[8],t},transformQuat:function(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],h=e*c-o*s,f=o*i-a*c,M=a*s-e*i,l=e*M-o*f,v=o*h-a*M,m=a*f-e*h,b=2*u;return h*=b,f*=b,M*=b,l*=2,v*=2,m*=2,t[0]=i+h+l,t[1]=s+f+v,t[2]=c+M+m,t},rotateX:function(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0],o[1]=e[1]*Math.cos(a)-e[2]*Math.sin(a),o[2]=e[1]*Math.sin(a)+e[2]*Math.cos(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},rotateY:function(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[2]*Math.sin(a)+e[0]*Math.cos(a),o[1]=e[1],o[2]=e[2]*Math.cos(a)-e[0]*Math.sin(a),t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},rotateZ:function(t,r,n,a){var e=[],o=[];return e[0]=r[0]-n[0],e[1]=r[1]-n[1],e[2]=r[2]-n[2],o[0]=e[0]*Math.cos(a)-e[1]*Math.sin(a),o[1]=e[0]*Math.sin(a)+e[1]*Math.cos(a),o[2]=e[2],t[0]=o[0]+n[0],t[1]=o[1]+n[1],t[2]=o[2]+n[2],t},angle:function(t,r){var n=t[0],a=t[1],e=t[2],o=r[0],u=r[1],i=r[2],s=Math.sqrt(n*n+a*a+e*e)*Math.sqrt(o*o+u*u+i*i),c=s&&N(t,r)/s;return Math.acos(Math.min(Math.max(c,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t},str:function(t){return"vec3("+t[0]+", "+t[1]+", "+t[2]+")"},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=n[0],i=n[1],s=n[2];return Math.abs(a-u)<=r*Math.max(1,Math.abs(a),Math.abs(u))&&Math.abs(e-i)<=r*Math.max(1,Math.abs(e),Math.abs(i))&&Math.abs(o-s)<=r*Math.max(1,Math.abs(o),Math.abs(s))},sub:G,mul:Y,div:H,dist:Q,sqrDist:X,len:Z,sqrLen:$,forEach:J});function tt(){var t=new n(4);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[3]=0),t}function rt(t){var r=new n(4);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r}function nt(t,r,a,e){var o=new n(4);return o[0]=t,o[1]=r,o[2]=a,o[3]=e,o}function at(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t}function et(t,r,n,a,e){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t}function ot(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t}function ut(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t[2]=r[2]-n[2],t[3]=r[3]-n[3],t}function it(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t[2]=r[2]*n[2],t[3]=r[3]*n[3],t}function st(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t[2]=r[2]/n[2],t[3]=r[3]/n[3],t}function ct(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t}function ht(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return Math.hypot(n,a,e,o)}function ft(t,r){var n=r[0]-t[0],a=r[1]-t[1],e=r[2]-t[2],o=r[3]-t[3];return n*n+a*a+e*e+o*o}function Mt(t){var r=t[0],n=t[1],a=t[2],e=t[3];return Math.hypot(r,n,a,e)}function lt(t){var r=t[0],n=t[1],a=t[2],e=t[3];return r*r+n*n+a*a+e*e}function vt(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o;return u>0&&(u=1/Math.sqrt(u)),t[0]=n*u,t[1]=a*u,t[2]=e*u,t[3]=o*u,t}function mt(t,r){return t[0]*r[0]+t[1]*r[1]+t[2]*r[2]+t[3]*r[3]}function bt(t,r,n,a){var e=r[0],o=r[1],u=r[2],i=r[3];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t[2]=u+a*(n[2]-u),t[3]=i+a*(n[3]-i),t}function dt(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]}function gt(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=n[0],s=n[1],c=n[2],h=n[3];return Math.abs(a-i)<=r*Math.max(1,Math.abs(a),Math.abs(i))&&Math.abs(e-s)<=r*Math.max(1,Math.abs(e),Math.abs(s))&&Math.abs(o-c)<=r*Math.max(1,Math.abs(o),Math.abs(c))&&Math.abs(u-h)<=r*Math.max(1,Math.abs(u),Math.abs(h))}var xt=ut,pt=it,yt=st,wt=ht,At=ft,qt=Mt,_t=lt,Ft=function(){var t=tt();return function(r,n,a,e,o,u){var i,s;for(n||(n=4),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],t[2]=r[i+2],t[3]=r[i+3],o(t,t,u),r[i]=t[0],r[i+1]=t[1],r[i+2]=t[2],r[i+3]=t[3];return r}}(),Pt=Object.freeze({__proto__:null,create:tt,clone:rt,fromValues:nt,copy:at,set:et,add:ot,subtract:ut,multiply:it,divide:st,ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t[2]=Math.ceil(r[2]),t[3]=Math.ceil(r[3]),t},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t[2]=Math.floor(r[2]),t[3]=Math.floor(r[3]),t},min:function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t[2]=Math.min(r[2],n[2]),t[3]=Math.min(r[3],n[3]),t},max:function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t[2]=Math.max(r[2],n[2]),t[3]=Math.max(r[3],n[3]),t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t[2]=Math.round(r[2]),t[3]=Math.round(r[3]),t},scale:ct,scaleAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t[2]=r[2]+n[2]*a,t[3]=r[3]+n[3]*a,t},distance:ht,squaredDistance:ft,length:Mt,squaredLength:lt,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=-r[3],t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t[2]=1/r[2],t[3]=1/r[3],t},normalize:vt,dot:mt,cross:function(t,r,n,a){var e=n[0]*a[1]-n[1]*a[0],o=n[0]*a[2]-n[2]*a[0],u=n[0]*a[3]-n[3]*a[0],i=n[1]*a[2]-n[2]*a[1],s=n[1]*a[3]-n[3]*a[1],c=n[2]*a[3]-n[3]*a[2],h=r[0],f=r[1],M=r[2],l=r[3];return t[0]=f*c-M*s+l*i,t[1]=-h*c+M*u-l*o,t[2]=h*s-f*u+l*e,t[3]=-h*i+f*o-M*e,t},lerp:bt,random:function(t,r){var n,e,o,u,i,s;r=r||1;do{i=(n=2*a()-1)*n+(e=2*a()-1)*e}while(i>=1);do{s=(o=2*a()-1)*o+(u=2*a()-1)*u}while(s>=1);var c=Math.sqrt((1-i)/s);return t[0]=r*n,t[1]=r*e,t[2]=r*o*c,t[3]=r*u*c,t},transformMat4:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3];return t[0]=n[0]*a+n[4]*e+n[8]*o+n[12]*u,t[1]=n[1]*a+n[5]*e+n[9]*o+n[13]*u,t[2]=n[2]*a+n[6]*e+n[10]*o+n[14]*u,t[3]=n[3]*a+n[7]*e+n[11]*o+n[15]*u,t},transformQuat:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=n[0],i=n[1],s=n[2],c=n[3],h=c*a+i*o-s*e,f=c*e+s*a-u*o,M=c*o+u*e-i*a,l=-u*a-i*e-s*o;return t[0]=h*c+l*-u+f*-s-M*-i,t[1]=f*c+l*-i+M*-u-h*-s,t[2]=M*c+l*-s+h*-i-f*-u,t[3]=r[3],t},zero:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t},str:function(t){return"vec4("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},exactEquals:dt,equals:gt,sub:xt,mul:pt,div:yt,dist:wt,sqrDist:At,len:qt,sqrLen:_t,forEach:Ft});function Tt(){var t=new n(4);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0),t[3]=1,t}function Rt(t,r,n){n*=.5;var a=Math.sin(n);return t[0]=a*r[0],t[1]=a*r[1],t[2]=a*r[2],t[3]=Math.cos(n),t}function St(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],h=n[3];return t[0]=a*h+u*i+e*c-o*s,t[1]=e*h+u*s+o*i-a*c,t[2]=o*h+u*c+a*s-e*i,t[3]=u*h-a*i-e*s-o*c,t}function Lt(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+u*i,t[1]=e*s+o*i,t[2]=o*s-e*i,t[3]=u*s-a*i,t}function Et(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s-o*i,t[1]=e*s+u*i,t[2]=o*s+a*i,t[3]=u*s-e*i,t}function zt(t,r,n){n*=.5;var a=r[0],e=r[1],o=r[2],u=r[3],i=Math.sin(n),s=Math.cos(n);return t[0]=a*s+e*i,t[1]=e*s-a*i,t[2]=o*s+u*i,t[3]=u*s-o*i,t}function Ct(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=Math.sqrt(n*n+a*a+e*e),i=Math.exp(o),s=u>0?i*Math.sin(u)/u:0;return t[0]=n*s,t[1]=a*s,t[2]=e*s,t[3]=i*Math.cos(u),t}function Ot(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=Math.sqrt(n*n+a*a+e*e),i=u>0?Math.atan2(u,o)/u:0;return t[0]=n*i,t[1]=a*i,t[2]=e*i,t[3]=.5*Math.log(n*n+a*a+e*e+o*o),t}function Dt(t,n,a,e){var o,u,i,s,c,h=n[0],f=n[1],M=n[2],l=n[3],v=a[0],m=a[1],b=a[2],d=a[3];return(u=h*v+f*m+M*b+l*d)<0&&(u=-u,v=-v,m=-m,b=-b,d=-d),1-u>r?(o=Math.acos(u),i=Math.sin(o),s=Math.sin((1-e)*o)/i,c=Math.sin(e*o)/i):(s=1-e,c=e),t[0]=s*h+c*v,t[1]=s*f+c*m,t[2]=s*M+c*b,t[3]=s*l+c*d,t}function It(t,r){var n,a=r[0]+r[4]+r[8];if(a>0)n=Math.sqrt(a+1),t[3]=.5*n,n=.5/n,t[0]=(r[5]-r[7])*n,t[1]=(r[6]-r[2])*n,t[2]=(r[1]-r[3])*n;else{var e=0;r[4]>r[0]&&(e=1),r[8]>r[3*e+e]&&(e=2);var o=(e+1)%3,u=(e+2)%3;n=Math.sqrt(r[3*e+e]-r[3*o+o]-r[3*u+u]+1),t[e]=.5*n,n=.5/n,t[3]=(r[3*o+u]-r[3*u+o])*n,t[o]=(r[3*o+e]+r[3*e+o])*n,t[u]=(r[3*u+e]+r[3*e+u])*n}return t}var Vt,jt,Bt,Ut,Nt,kt,Wt=rt,Gt=nt,Yt=at,Ht=et,Qt=ot,Xt=St,Zt=ct,$t=mt,Jt=bt,Kt=Mt,tr=Kt,rr=lt,nr=rr,ar=vt,er=dt,or=gt,ur=(Ut=E(),Nt=C(1,0,0),kt=C(0,1,0),function(t,r,n){var a=N(r,n);return a<-.999999?(k(Ut,Nt,r),Z(Ut)<1e-6&&k(Ut,kt,r),U(Ut,Ut),Rt(t,Ut,Math.PI),t):a>.999999?(t[0]=0,t[1]=0,t[2]=0,t[3]=1,t):(k(Ut,r,n),t[0]=Ut[0],t[1]=Ut[1],t[2]=Ut[2],t[3]=1+a,ar(t,t))}),ir=(jt=Tt(),Bt=Tt(),function(t,r,n,a,e,o){return Dt(jt,r,e,o),Dt(Bt,n,a,o),Dt(t,jt,Bt,2*o*(1-o)),t}),sr=(Vt=b(),function(t,r,n,a){return Vt[0]=n[0],Vt[3]=n[1],Vt[6]=n[2],Vt[1]=a[0],Vt[4]=a[1],Vt[7]=a[2],Vt[2]=-r[0],Vt[5]=-r[1],Vt[8]=-r[2],ar(t,It(t,Vt))}),cr=Object.freeze({__proto__:null,create:Tt,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t},setAxisAngle:Rt,getAxisAngle:function(t,n){var a=2*Math.acos(n[3]),e=Math.sin(a/2);return e>r?(t[0]=n[0]/e,t[1]=n[1]/e,t[2]=n[2]/e):(t[0]=1,t[1]=0,t[2]=0),a},getAngle:function(t,r){var n=$t(t,r);return Math.acos(2*n*n-1)},multiply:St,rotateX:Lt,rotateY:Et,rotateZ:zt,calculateW:function(t,r){var n=r[0],a=r[1],e=r[2];return t[0]=n,t[1]=a,t[2]=e,t[3]=Math.sqrt(Math.abs(1-n*n-a*a-e*e)),t},exp:Ct,ln:Ot,pow:function(t,r,n){return Ot(t,r),Zt(t,t,n),Ct(t,t),t},slerp:Dt,random:function(t){var r=a(),n=a(),e=a(),o=Math.sqrt(1-r),u=Math.sqrt(r);return t[0]=o*Math.sin(2*Math.PI*n),t[1]=o*Math.cos(2*Math.PI*n),t[2]=u*Math.sin(2*Math.PI*e),t[3]=u*Math.cos(2*Math.PI*e),t},invert:function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=n*n+a*a+e*e+o*o,i=u?1/u:0;return t[0]=-n*i,t[1]=-a*i,t[2]=-e*i,t[3]=o*i,t},conjugate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t},fromMat3:It,fromEuler:function(t,r,n,a){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"zyx",o=.5*Math.PI/180;r*=o,a*=o,n*=o;var u=Math.sin(r),i=Math.cos(r),s=Math.sin(n),c=Math.cos(n),h=Math.sin(a),f=Math.cos(a);switch("string"!=typeof e&&(e="zyx"),e.toLowerCase()){case"xyz":t[0]=u*c*f+i*s*h,t[1]=i*s*f-u*c*h,t[2]=i*c*h+u*s*f,t[3]=i*c*f-u*s*h;break;case"xzy":t[0]=u*c*f-i*s*h,t[1]=i*s*f-u*c*h,t[2]=i*c*h+u*s*f,t[3]=i*c*f+u*s*h;break;case"yxz":t[0]=u*c*f+i*s*h,t[1]=i*s*f-u*c*h,t[2]=i*c*h-u*s*f,t[3]=i*c*f+u*s*h;break;case"yzx":t[0]=u*c*f+i*s*h,t[1]=i*s*f+u*c*h,t[2]=i*c*h-u*s*f,t[3]=i*c*f-u*s*h;break;case"zxy":t[0]=u*c*f-i*s*h,t[1]=i*s*f+u*c*h,t[2]=i*c*h+u*s*f,t[3]=i*c*f-u*s*h;break;case"zyx":default:t[0]=u*c*f-i*s*h,t[1]=i*s*f+u*c*h,t[2]=i*c*h-u*s*f,t[3]=i*c*f+u*s*h}return t},str:function(t){return"quat("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+")"},clone:Wt,fromValues:Gt,copy:Yt,set:Ht,add:Qt,mul:Xt,scale:Zt,dot:$t,lerp:Jt,length:Kt,len:tr,squaredLength:rr,sqrLen:nr,normalize:ar,exactEquals:er,equals:or,rotationTo:ur,sqlerp:ir,setAxes:sr});function hr(t,r,n){var a=.5*n[0],e=.5*n[1],o=.5*n[2],u=r[0],i=r[1],s=r[2],c=r[3];return t[0]=u,t[1]=i,t[2]=s,t[3]=c,t[4]=a*c+e*s-o*i,t[5]=e*c+o*u-a*s,t[6]=o*c+a*i-e*u,t[7]=-a*u-e*i-o*s,t}function fr(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=r[4],t[5]=r[5],t[6]=r[6],t[7]=r[7],t}var Mr=Yt;var lr=Yt;function vr(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[4],s=n[5],c=n[6],h=n[7],f=r[4],M=r[5],l=r[6],v=r[7],m=n[0],b=n[1],d=n[2],g=n[3];return t[0]=a*g+u*m+e*d-o*b,t[1]=e*g+u*b+o*m-a*d,t[2]=o*g+u*d+a*b-e*m,t[3]=u*g-a*m-e*b-o*d,t[4]=a*h+u*i+e*c-o*s+f*g+v*m+M*d-l*b,t[5]=e*h+u*s+o*i-a*c+M*g+v*b+l*m-f*d,t[6]=o*h+u*c+a*s-e*i+l*g+v*d+f*b-M*m,t[7]=u*h-a*i-e*s-o*c+v*g-f*m-M*b-l*d,t}var mr=vr;var br=$t;var dr=Kt,gr=dr,xr=rr,pr=xr;var yr=Object.freeze({__proto__:null,create:function(){var t=new n(8);return n!=Float32Array&&(t[0]=0,t[1]=0,t[2]=0,t[4]=0,t[5]=0,t[6]=0,t[7]=0),t[3]=1,t},clone:function(t){var r=new n(8);return r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=t[3],r[4]=t[4],r[5]=t[5],r[6]=t[6],r[7]=t[7],r},fromValues:function(t,r,a,e,o,u,i,s){var c=new n(8);return c[0]=t,c[1]=r,c[2]=a,c[3]=e,c[4]=o,c[5]=u,c[6]=i,c[7]=s,c},fromRotationTranslationValues:function(t,r,a,e,o,u,i){var s=new n(8);s[0]=t,s[1]=r,s[2]=a,s[3]=e;var c=.5*o,h=.5*u,f=.5*i;return s[4]=c*e+h*a-f*r,s[5]=h*e+f*t-c*a,s[6]=f*e+c*r-h*t,s[7]=-c*t-h*r-f*a,s},fromRotationTranslation:hr,fromTranslation:function(t,r){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=.5*r[0],t[5]=.5*r[1],t[6]=.5*r[2],t[7]=0,t},fromRotation:function(t,r){return t[0]=r[0],t[1]=r[1],t[2]=r[2],t[3]=r[3],t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},fromMat4:function(t,r){var a=Tt();P(a,r);var e=new n(3);return _(e,r),hr(t,a,e),t},copy:fr,identity:function(t){return t[0]=0,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t[6]=0,t[7]=0,t},set:function(t,r,n,a,e,o,u,i,s){return t[0]=r,t[1]=n,t[2]=a,t[3]=e,t[4]=o,t[5]=u,t[6]=i,t[7]=s,t},getReal:Mr,getDual:function(t,r){return t[0]=r[4],t[1]=r[5],t[2]=r[6],t[3]=r[7],t},setReal:lr,setDual:function(t,r){return t[4]=r[0],t[5]=r[1],t[6]=r[2],t[7]=r[3],t},getTranslation:function(t,r){var n=r[4],a=r[5],e=r[6],o=r[7],u=-r[0],i=-r[1],s=-r[2],c=r[3];return t[0]=2*(n*c+o*u+a*s-e*i),t[1]=2*(a*c+o*i+e*u-n*s),t[2]=2*(e*c+o*s+n*i-a*u),t},translate:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=.5*n[0],s=.5*n[1],c=.5*n[2],h=r[4],f=r[5],M=r[6],l=r[7];return t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=u*i+e*c-o*s+h,t[5]=u*s+o*i-a*c+f,t[6]=u*c+a*s-e*i+M,t[7]=-a*i-e*s-o*c+l,t},rotateX:function(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=i*u+h*a+s*o-c*e,M=s*u+h*e+c*a-i*o,l=c*u+h*o+i*e-s*a,v=h*u-i*a-s*e-c*o;return Lt(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=f*u+v*a+M*o-l*e,t[5]=M*u+v*e+l*a-f*o,t[6]=l*u+v*o+f*e-M*a,t[7]=v*u-f*a-M*e-l*o,t},rotateY:function(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=i*u+h*a+s*o-c*e,M=s*u+h*e+c*a-i*o,l=c*u+h*o+i*e-s*a,v=h*u-i*a-s*e-c*o;return Et(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=f*u+v*a+M*o-l*e,t[5]=M*u+v*e+l*a-f*o,t[6]=l*u+v*o+f*e-M*a,t[7]=v*u-f*a-M*e-l*o,t},rotateZ:function(t,r,n){var a=-r[0],e=-r[1],o=-r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=i*u+h*a+s*o-c*e,M=s*u+h*e+c*a-i*o,l=c*u+h*o+i*e-s*a,v=h*u-i*a-s*e-c*o;return zt(t,r,n),a=t[0],e=t[1],o=t[2],u=t[3],t[4]=f*u+v*a+M*o-l*e,t[5]=M*u+v*e+l*a-f*o,t[6]=l*u+v*o+f*e-M*a,t[7]=v*u-f*a-M*e-l*o,t},rotateByQuatAppend:function(t,r,n){var a=n[0],e=n[1],o=n[2],u=n[3],i=r[0],s=r[1],c=r[2],h=r[3];return t[0]=i*u+h*a+s*o-c*e,t[1]=s*u+h*e+c*a-i*o,t[2]=c*u+h*o+i*e-s*a,t[3]=h*u-i*a-s*e-c*o,i=r[4],s=r[5],c=r[6],h=r[7],t[4]=i*u+h*a+s*o-c*e,t[5]=s*u+h*e+c*a-i*o,t[6]=c*u+h*o+i*e-s*a,t[7]=h*u-i*a-s*e-c*o,t},rotateByQuatPrepend:function(t,r,n){var a=r[0],e=r[1],o=r[2],u=r[3],i=n[0],s=n[1],c=n[2],h=n[3];return t[0]=a*h+u*i+e*c-o*s,t[1]=e*h+u*s+o*i-a*c,t[2]=o*h+u*c+a*s-e*i,t[3]=u*h-a*i-e*s-o*c,i=n[4],s=n[5],c=n[6],h=n[7],t[4]=a*h+u*i+e*c-o*s,t[5]=e*h+u*s+o*i-a*c,t[6]=o*h+u*c+a*s-e*i,t[7]=u*h-a*i-e*s-o*c,t},rotateAroundAxis:function(t,n,a,e){if(Math.abs(e)<r)return fr(t,n);var o=Math.hypot(a[0],a[1],a[2]);e*=.5;var u=Math.sin(e),i=u*a[0]/o,s=u*a[1]/o,c=u*a[2]/o,h=Math.cos(e),f=n[0],M=n[1],l=n[2],v=n[3];t[0]=f*h+v*i+M*c-l*s,t[1]=M*h+v*s+l*i-f*c,t[2]=l*h+v*c+f*s-M*i,t[3]=v*h-f*i-M*s-l*c;var m=n[4],b=n[5],d=n[6],g=n[7];return t[4]=m*h+g*i+b*c-d*s,t[5]=b*h+g*s+d*i-m*c,t[6]=d*h+g*c+m*s-b*i,t[7]=g*h-m*i-b*s-d*c,t},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t[2]=r[2]+n[2],t[3]=r[3]+n[3],t[4]=r[4]+n[4],t[5]=r[5]+n[5],t[6]=r[6]+n[6],t[7]=r[7]+n[7],t},multiply:vr,mul:mr,scale:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t[2]=r[2]*n,t[3]=r[3]*n,t[4]=r[4]*n,t[5]=r[5]*n,t[6]=r[6]*n,t[7]=r[7]*n,t},dot:br,lerp:function(t,r,n,a){var e=1-a;return br(r,n)<0&&(a=-a),t[0]=r[0]*e+n[0]*a,t[1]=r[1]*e+n[1]*a,t[2]=r[2]*e+n[2]*a,t[3]=r[3]*e+n[3]*a,t[4]=r[4]*e+n[4]*a,t[5]=r[5]*e+n[5]*a,t[6]=r[6]*e+n[6]*a,t[7]=r[7]*e+n[7]*a,t},invert:function(t,r){var n=xr(r);return t[0]=-r[0]/n,t[1]=-r[1]/n,t[2]=-r[2]/n,t[3]=r[3]/n,t[4]=-r[4]/n,t[5]=-r[5]/n,t[6]=-r[6]/n,t[7]=r[7]/n,t},conjugate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t[2]=-r[2],t[3]=r[3],t[4]=-r[4],t[5]=-r[5],t[6]=-r[6],t[7]=r[7],t},length:dr,len:gr,squaredLength:xr,sqrLen:pr,normalize:function(t,r){var n=xr(r);if(n>0){n=Math.sqrt(n);var a=r[0]/n,e=r[1]/n,o=r[2]/n,u=r[3]/n,i=r[4],s=r[5],c=r[6],h=r[7],f=a*i+e*s+o*c+u*h;t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=(i-a*f)/n,t[5]=(s-e*f)/n,t[6]=(c-o*f)/n,t[7]=(h-u*f)/n}return t},str:function(t){return"quat2("+t[0]+", "+t[1]+", "+t[2]+", "+t[3]+", "+t[4]+", "+t[5]+", "+t[6]+", "+t[7]+")"},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]&&t[2]===r[2]&&t[3]===r[3]&&t[4]===r[4]&&t[5]===r[5]&&t[6]===r[6]&&t[7]===r[7]},equals:function(t,n){var a=t[0],e=t[1],o=t[2],u=t[3],i=t[4],s=t[5],c=t[6],h=t[7],f=n[0],M=n[1],l=n[2],v=n[3],m=n[4],b=n[5],d=n[6],g=n[7];return Math.abs(a-f)<=r*Math.max(1,Math.abs(a),Math.abs(f))&&Math.abs(e-M)<=r*Math.max(1,Math.abs(e),Math.abs(M))&&Math.abs(o-l)<=r*Math.max(1,Math.abs(o),Math.abs(l))&&Math.abs(u-v)<=r*Math.max(1,Math.abs(u),Math.abs(v))&&Math.abs(i-m)<=r*Math.max(1,Math.abs(i),Math.abs(m))&&Math.abs(s-b)<=r*Math.max(1,Math.abs(s),Math.abs(b))&&Math.abs(c-d)<=r*Math.max(1,Math.abs(c),Math.abs(d))&&Math.abs(h-g)<=r*Math.max(1,Math.abs(h),Math.abs(g))}});function wr(){var t=new n(2);return n!=Float32Array&&(t[0]=0,t[1]=0),t}function Ar(t,r,n){return t[0]=r[0]-n[0],t[1]=r[1]-n[1],t}function qr(t,r,n){return t[0]=r[0]*n[0],t[1]=r[1]*n[1],t}function _r(t,r,n){return t[0]=r[0]/n[0],t[1]=r[1]/n[1],t}function Fr(t,r){var n=r[0]-t[0],a=r[1]-t[1];return Math.hypot(n,a)}function Pr(t,r){var n=r[0]-t[0],a=r[1]-t[1];return n*n+a*a}function Tr(t){var r=t[0],n=t[1];return Math.hypot(r,n)}function Rr(t){var r=t[0],n=t[1];return r*r+n*n}var Sr=Tr,Lr=Ar,Er=qr,zr=_r,Cr=Fr,Or=Pr,Dr=Rr,Ir=function(){var t=wr();return function(r,n,a,e,o,u){var i,s;for(n||(n=2),a||(a=0),s=e?Math.min(e*n+a,r.length):r.length,i=a;i<s;i+=n)t[0]=r[i],t[1]=r[i+1],o(t,t,u),r[i]=t[0],r[i+1]=t[1];return r}}(),Vr=Object.freeze({__proto__:null,create:wr,clone:function(t){var r=new n(2);return r[0]=t[0],r[1]=t[1],r},fromValues:function(t,r){var a=new n(2);return a[0]=t,a[1]=r,a},copy:function(t,r){return t[0]=r[0],t[1]=r[1],t},set:function(t,r,n){return t[0]=r,t[1]=n,t},add:function(t,r,n){return t[0]=r[0]+n[0],t[1]=r[1]+n[1],t},subtract:Ar,multiply:qr,divide:_r,ceil:function(t,r){return t[0]=Math.ceil(r[0]),t[1]=Math.ceil(r[1]),t},floor:function(t,r){return t[0]=Math.floor(r[0]),t[1]=Math.floor(r[1]),t},min:function(t,r,n){return t[0]=Math.min(r[0],n[0]),t[1]=Math.min(r[1],n[1]),t},max:function(t,r,n){return t[0]=Math.max(r[0],n[0]),t[1]=Math.max(r[1],n[1]),t},round:function(t,r){return t[0]=Math.round(r[0]),t[1]=Math.round(r[1]),t},scale:function(t,r,n){return t[0]=r[0]*n,t[1]=r[1]*n,t},scaleAndAdd:function(t,r,n,a){return t[0]=r[0]+n[0]*a,t[1]=r[1]+n[1]*a,t},distance:Fr,squaredDistance:Pr,length:Tr,squaredLength:Rr,negate:function(t,r){return t[0]=-r[0],t[1]=-r[1],t},inverse:function(t,r){return t[0]=1/r[0],t[1]=1/r[1],t},normalize:function(t,r){var n=r[0],a=r[1],e=n*n+a*a;return e>0&&(e=1/Math.sqrt(e)),t[0]=r[0]*e,t[1]=r[1]*e,t},dot:function(t,r){return t[0]*r[0]+t[1]*r[1]},cross:function(t,r,n){var a=r[0]*n[1]-r[1]*n[0];return t[0]=t[1]=0,t[2]=a,t},lerp:function(t,r,n,a){var e=r[0],o=r[1];return t[0]=e+a*(n[0]-e),t[1]=o+a*(n[1]-o),t},random:function(t,r){r=r||1;var n=2*a()*Math.PI;return t[0]=Math.cos(n)*r,t[1]=Math.sin(n)*r,t},transformMat2:function(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e,t[1]=n[1]*a+n[3]*e,t},transformMat2d:function(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[2]*e+n[4],t[1]=n[1]*a+n[3]*e+n[5],t},transformMat3:function(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[3]*e+n[6],t[1]=n[1]*a+n[4]*e+n[7],t},transformMat4:function(t,r,n){var a=r[0],e=r[1];return t[0]=n[0]*a+n[4]*e+n[12],t[1]=n[1]*a+n[5]*e+n[13],t},rotate:function(t,r,n,a){var e=r[0]-n[0],o=r[1]-n[1],u=Math.sin(a),i=Math.cos(a);return t[0]=e*i-o*u+n[0],t[1]=e*u+o*i+n[1],t},angle:function(t,r){var n=t[0],a=t[1],e=r[0],o=r[1],u=Math.sqrt(n*n+a*a)*Math.sqrt(e*e+o*o),i=u&&(n*e+a*o)/u;return Math.acos(Math.min(Math.max(i,-1),1))},zero:function(t){return t[0]=0,t[1]=0,t},str:function(t){return"vec2("+t[0]+", "+t[1]+")"},exactEquals:function(t,r){return t[0]===r[0]&&t[1]===r[1]},equals:function(t,n){var a=t[0],e=t[1],o=n[0],u=n[1];return Math.abs(a-o)<=r*Math.max(1,Math.abs(a),Math.abs(o))&&Math.abs(e-u)<=r*Math.max(1,Math.abs(e),Math.abs(u))},len:Sr,sub:Lr,mul:Er,div:zr,dist:Cr,sqrDist:Or,sqrLen:Dr,forEach:Ir});t.glMatrix=o,t.mat2=h,t.mat2d=m,t.mat3=y,t.mat4=L,t.quat=cr,t.quat2=yr,t.vec2=Vr,t.vec3=K,t.vec4=Pt,Object.defineProperty(t,"__esModule",{value:!0})}(r)},773:()=>{var t;WebGLUtils={create3DContext:t=function(t,r){for(var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],a=null,e=0;e<n.length;++e){try{a=t.getContext(n[e],r)}catch(t){}if(a)break}return a},setupWebGL:function(r,n,a){a=a||function(t){var n=r.parentNode;if(n){var a=window.WebGLRenderingContext?'It doesn\'t appear your computer can support WebGL.<br/><a href="http://get.webgl.org/troubleshooting/">Click here for more information.</a>':'This page requires a browser that supports WebGL.<br/><a href="http://get.webgl.org">Click here to upgrade your browser.</a>';t&&(a+="<br/><br/>Status: "+t),n.innerHTML=function(t){return'<table style="background-color: #8CE; width: 100%; height: 100%;"><tr><td align="center"><div style="display: table-cell; vertical-align: middle;"><div style="">'+t+"</div></div></td></tr></table>"}(a)}},r.addEventListener&&r.addEventListener("webglcontextcreationerror",(function(t){a(t.statusMessage)}),!1);var e=t(r,n);return e||window.WebGLRenderingContext||a(""),e}},window.requestAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,r){window.setTimeout(t,1e3/60)}},855:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});const a="precision mediump float;\n\nattribute vec2 position;\n\nvoid main() {\n  gl_Position = vec4(position, 1, 1);\n}\n"},885:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});const a="precision mediump float;\r\n\r\nattribute vec2 position;\r\n\r\nvoid main() {\r\n  gl_Position = vec4(position, 1, 1);\r\n}\r\n"},226:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});const a="precision mediump float;\r\n\r\nvarying vec4 fragcolor;\r\nvarying vec3 normal;\r\nvarying vec3 pos;\r\n\r\n\r\nvoid main(void) {\r\n    vec3 viewDir = normalize(vec3(0, 0, 50));\r\n\r\n    if(abs(dot(viewDir, normal)) < 0.45){\r\n        gl_FragColor = vec4(0, 0, 0, 1);\r\n        return;\r\n    }\r\n\r\n    vec3 lightPos = vec3(50, 50, 20);\r\n    vec3 dir = normalize(lightPos - pos);\r\n    vec3 lightCor = vec3(0.5, .5, .5);\r\n    float lightIntensity = 1.;\r\n    //dir = normalize(vec3(0, 1, 1));\r\n\r\n\r\n    float dif = dot(normalize(normal), dir);\r\n    if(dif > .6) dif = 0.8;\r\n    else if(dif > .25) dif = .3;\r\n    // else dif = .0;\r\n    // dif = step(0.25, dif)*0.5;\r\n    // if(dif < 1e-9) dif = step(0.6, dif)*0.8;\r\n    // dif = (dif<.0)? .0 : (dif>1.)? 1. : dif;\r\n\r\n    gl_FragColor = vec4(.5, .0, .0, 1);\r\n    // gl_FragColor.rgb *= 0.4;\r\n    gl_FragColor.rgb += lightCor * dif * lightIntensity;\r\n    vec3 halfDir = normalize(viewDir + dir);\r\n    float _spec = 1.;\r\n    float _gloss = 10.;\r\n    float spec = _spec * pow(clamp(dot(normal, halfDir), 0., 1.),  _gloss);\r\n    spec = step(0.7, spec);\r\n    gl_FragColor.rgb += lightCor*spec;\r\n}"},342:(t,r,n)=>{"use strict";n.r(r),n.d(r,{default:()=>a});const a="attribute vec3 aVertexPosition;\r\nattribute vec3 aFrontColor;\r\nattribute vec3 aNormal;\r\n\r\nuniform mat4 uMVMatrix;\r\nuniform mat4 uPMatrix;\r\nuniform mat4 uinvTMVMatrix;\r\n\r\nvarying vec4 fragcolor;\r\nvarying vec3 normal;\r\nvarying vec3 pos;\r\n\r\nvoid main(void) {\r\n    fragcolor = vec4(aFrontColor.rgb, 1.0);\r\n    pos = (uMVMatrix * vec4(aVertexPosition, 1.0)).xyz;\r\n    gl_Position = uPMatrix * uMVMatrix * vec4(aVertexPosition, 1.0);\r\n    \r\n    //normal = (uMVMatrix * vec4(aNormal, 0.0)).xyz;\r\n    normal = (uinvTMVMatrix * vec4(aNormal, 0.0)).xyz;\r\n    //normal = aNormal;\r\n}"},542:(t,r,n)=>{var a={"./v.frag":226};function e(t){var r=o(t);return n(r)}function o(t){if(!n.o(a,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return a[t]}e.keys=function(){return Object.keys(a)},e.resolve=o,t.exports=e,e.id=542},202:(t,r,n)=>{var a={"./v.vert":342,"glsl-token-whitespace-trim/fixtures/base.vert":855,"glslify-bundle/fixtures/square.vert":885};function e(t){var r=o(t);return n(r)}function o(t){if(!n.o(a,t)){var r=new Error("Cannot find module '"+t+"'");throw r.code="MODULE_NOT_FOUND",r}return a[t]}e.keys=function(){return Object.keys(a)},e.resolve=o,t.exports=e,e.id=202}},r={};function n(a){var e=r[a];if(void 0!==e)return e.exports;var o=r[a]={exports:{}};return t[a].call(o.exports,o,o.exports,n),o.exports}n.d=(t,r)=>{for(var a in r)n.o(r,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:r[a]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),n.o=(t,r)=>Object.prototype.hasOwnProperty.call(t,r),n.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},(()=>{"use strict";var t="undefined"!=typeof Float32Array?Float32Array:Array;function r(){var r=new t(16);return t!=Float32Array&&(r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0),r[0]=1,r[5]=1,r[10]=1,r[15]=1,r}Math.random,Math.PI,Math.hypot||(Math.hypot=function(){for(var t=0,r=arguments.length;r--;)t+=arguments[r]*arguments[r];return Math.sqrt(t)});var a,e=n(343);n(773),WebGLBuffer;class o{constructor(t,r){this.position=e.vec3.create(),this.rotation=e.quat.create(),this.isLoaded=!1,this.position=t,void 0!==r&&this.loadModel(r)}loadModel(t){var r=new XMLHttpRequest;r.open("GET",`./model/${t}.json`),r.onreadystatechange=()=>{4==r.readyState&&(this.vertexAttributes=JSON.parse(r.responseText),console.log(this.vertexAttributes),this.handleModelData())},r.send()}handleModelData(){this.vertexBuffers={};for(let r in this.vertexAttributes)if(void 0!==r&&"vertexTextureCoords"!==r){var t=gl.createBuffer();gl.bindBuffer(gl.ARRAY_BUFFER,t),gl.bufferData(gl.ARRAY_BUFFER,new Float32Array(this.vertexAttributes[r]),gl.STATIC_DRAW),t.itemSize=3,t.numItems=this.vertexAttributes[r].length/3,console.log(t),this.vertexBuffers[r]=t}this.isLoaded=!0}draw(t){gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffers.vertexPositions),gl.vertexAttribPointer(t.vertexPositionAttribute,this.vertexBuffers.vertexPositions.itemSize,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffers.vertexFrontcolors),gl.vertexAttribPointer(t.vertexFrontColorAttribute,this.vertexBuffers.vertexFrontcolors.itemSize,gl.FLOAT,!1,0,0),gl.bindBuffer(gl.ARRAY_BUFFER,this.vertexBuffers.vertexNormals),gl.vertexAttribPointer(t.vertexNormalAttribute,this.vertexBuffers.vertexNormals.itemSize,gl.FLOAT,!1,0,0),gl.drawArrays(gl.TRIANGLES,0,this.vertexBuffers.vertexPositions.numItems)}}window.onload=()=>{return(t=document.createElement("canvas")).id="ICG-canvas",t.style.backgroundColor="#0078D4",t.width=1280,t.height=720,function(t){try{n.g.gl=t.getContext("webgl")||t.getContext("experimental-webgl"),i=new l({width:t.width,height:t.height})}catch(t){}gl||alert("Could not initialise WebGL, sorry :-(")}(t),function(){var t=v(gl,"./v");gl.useProgram(t),t.vertexPositionAttribute=gl.getAttribLocation(t,"aVertexPosition"),gl.enableVertexAttribArray(t.vertexPositionAttribute),t.vertexFrontColorAttribute=gl.getAttribLocation(t,"aFrontColor"),gl.enableVertexAttribArray(t.vertexFrontColorAttribute),t.vertexNormalAttribute=gl.getAttribLocation(t,"aNormal"),gl.enableVertexAttribArray(t.vertexNormalAttribute),t.pMatrixUniform=gl.getUniformLocation(t,"uPMatrix"),t.mvMatrixUniform=gl.getUniformLocation(t,"uMVMatrix"),t.invT_mvMatrixUniform=gl.getUniformLocation(t,"uinvTMVMatrix")}(),u=new o(e.vec3.fromValues(0,0,0),"Teapot"),gl.clearColor(.5,.5,.5,1),gl.enable(gl.DEPTH_TEST),document.body.appendChild(t),void m();var t};var u,i,s=r(),c=r(),h=r(),f=20,M=0;class l{constructor(t){this.viewportWidth=t.width,this.viewportHeight=t.height}}function v(t,r){var e=t.createShader(t.VERTEX_SHADER),o=n(202)(`${r}.vert`).default;t.shaderSource(e,o),t.compileShader(e);var u=t.createShader(t.FRAGMENT_SHADER);return o=n(542)(`${r}.frag`).default,t.shaderSource(u,o),t.compileShader(u),t.getShaderParameter(e,t.COMPILE_STATUS)?t.getShaderParameter(u,t.COMPILE_STATUS)?(a=t.createProgram(),t.attachShader(a,e),t.attachShader(a,u),t.linkProgram(a),t.getProgramParameter(a,t.LINK_STATUS)||alert("Could not initialise shaders"),a):(alert(t.getShaderInfoLog(u)),null):(alert(t.getShaderInfoLog(e)),null)}function m(){var t,r,n,e,o;window.requestAnimFrame(m),gl.viewport(0,0,i.viewportWidth,i.viewportHeight),gl.clear(gl.COLOR_BUFFER_BIT|gl.DEPTH_BUFFER_BIT),u.isLoaded&&(r=c,n=i.viewportWidth/i.viewportHeight,o=1/Math.tan(22.5),r[0]=o/n,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r[5]=o,r[6]=0,r[7]=0,r[8]=0,r[9]=0,r[11]=-1,r[12]=0,r[13]=0,r[15]=0,e=1/-99.9,r[10]=100.1*e,r[14]=20*e,function(t){t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1}(s),function(t,r,n){var a,e,o,u,i,s,c,h,f,M,l,v,m=n[0],b=n[1],d=n[2];r===t?(t[12]=r[0]*m+r[4]*b+r[8]*d+r[12],t[13]=r[1]*m+r[5]*b+r[9]*d+r[13],t[14]=r[2]*m+r[6]*b+r[10]*d+r[14],t[15]=r[3]*m+r[7]*b+r[11]*d+r[15]):(a=r[0],e=r[1],o=r[2],u=r[3],i=r[4],s=r[5],c=r[6],h=r[7],f=r[8],M=r[9],l=r[10],v=r[11],t[0]=a,t[1]=e,t[2]=o,t[3]=u,t[4]=i,t[5]=s,t[6]=c,t[7]=h,t[8]=f,t[9]=M,t[10]=l,t[11]=v,t[12]=a*m+i*b+f*d+r[12],t[13]=e*m+s*b+M*d+r[13],t[14]=o*m+c*b+l*d+r[14],t[15]=u*m+h*b+v*d+r[15])}(s,s,[0,0,-35]),function(t,r,n,a){var e,o,u,i,s,c,h,f,M,l,v,m,b,d,g,x,p,y,w,A,q,_,F,P,T=a[0],R=a[1],S=a[2],L=Math.hypot(T,R,S);L<1e-6||(T*=L=1/L,R*=L,S*=L,e=Math.sin(n),u=1-(o=Math.cos(n)),i=r[0],s=r[1],c=r[2],h=r[3],f=r[4],M=r[5],l=r[6],v=r[7],m=r[8],b=r[9],d=r[10],g=r[11],x=T*T*u+o,p=R*T*u+S*e,y=S*T*u-R*e,w=T*R*u-S*e,A=R*R*u+o,q=S*R*u+T*e,_=T*S*u+R*e,F=R*S*u-T*e,P=S*S*u+o,t[0]=i*x+f*p+m*y,t[1]=s*x+M*p+b*y,t[2]=c*x+l*p+d*y,t[3]=h*x+v*p+g*y,t[4]=i*w+f*A+m*q,t[5]=s*w+M*A+b*q,t[6]=c*w+l*A+d*q,t[7]=h*w+v*A+g*q,t[8]=i*_+f*F+m*P,t[9]=s*_+M*F+b*P,t[10]=c*_+l*F+d*P,t[11]=h*_+v*F+g*P,r!==t&&(t[12]=r[12],t[13]=r[13],t[14]=r[14],t[15]=r[15]))}(s,s,f*Math.PI/180,[0,1,0]),function(t,r){var n=r[0],a=r[1],e=r[2],o=r[3],u=r[4],i=r[5],s=r[6],c=r[7],h=r[8],f=r[9],M=r[10],l=r[11],v=r[12],m=r[13],b=r[14],d=r[15],g=n*i-a*u,x=n*s-e*u,p=n*c-o*u,y=a*s-e*i,w=a*c-o*i,A=e*c-o*s,q=h*m-f*v,_=h*b-M*v,F=h*d-l*v,P=f*b-M*m,T=f*d-l*m,R=M*d-l*b,S=g*R-x*T+p*P+y*F-w*_+A*q;S&&(S=1/S,t[0]=(i*R-s*T+c*P)*S,t[1]=(e*T-a*R-o*P)*S,t[2]=(m*A-b*w+d*y)*S,t[3]=(M*w-f*A-l*y)*S,t[4]=(s*F-u*R-c*_)*S,t[5]=(n*R-e*F+o*_)*S,t[6]=(b*p-v*A-d*x)*S,t[7]=(h*A-M*p+l*x)*S,t[8]=(u*T-i*F+c*q)*S,t[9]=(a*F-n*T-o*q)*S,t[10]=(v*w-m*p+d*g)*S,t[11]=(f*p-h*w-l*g)*S,t[12]=(i*_-u*P-s*q)*S,t[13]=(n*P-a*_+e*q)*S,t[14]=(m*x-v*y-b*g)*S,t[15]=(h*y-f*x+M*g)*S)}(h,s),function(t,r){if(t===r){var n=r[1],a=r[2],e=r[3],o=r[6],u=r[7],i=r[11];t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=n,t[6]=r[9],t[7]=r[13],t[8]=a,t[9]=o,t[11]=r[14],t[12]=e,t[13]=u,t[14]=i}else t[0]=r[0],t[1]=r[4],t[2]=r[8],t[3]=r[12],t[4]=r[1],t[5]=r[5],t[6]=r[9],t[7]=r[13],t[8]=r[2],t[9]=r[6],t[10]=r[10],t[11]=r[14],t[12]=r[3],t[13]=r[7],t[14]=r[11],t[15]=r[15]}(h,h),gl.uniformMatrix4fv(a.pMatrixUniform,!1,c),gl.uniformMatrix4fv(a.mvMatrixUniform,!1,s),gl.uniformMatrix4fv(a.invT_mvMatrixUniform,!1,h),u.draw(a)),t=(new Date).getTime(),0!=M&&(f+=.05*(t-M)),M=t}})()})();